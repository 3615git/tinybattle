(this.webpackJsonprpg=this.webpackJsonprpg||[]).push([[0],{193:function(e,a,t){e.exports=t.p+"static/media/alfadriel.246ea0d4.png"},194:function(e,a,t){e.exports=t.p+"static/media/ansellus.8fabb0ab.png"},195:function(e,a,t){e.exports=t.p+"static/media/arcanegolem.6322e9aa.png"},196:function(e,a,t){e.exports=t.p+"static/media/astrallich.a8693412.png"},197:function(e,a,t){e.exports=t.p+"static/media/behemoth.5c878fe3.png"},198:function(e,a,t){e.exports=t.p+"static/media/blindworm.28c0bf15.png"},199:function(e,a,t){e.exports=t.p+"static/media/bloodmage.9d9f42cc.png"},20:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABBFJREFUeNrsV1FoU1cY/nJumCKJMovrXmSkTYISuTU6cY/SscFERsdgdA/KKKNQtkdxL7KtK0zYur7syRKkFKEborFbEavrsg02usQ042ppSdIGSe2a3MRUb1occvn3oOfs3uTmJrEt+LAD4dyc85///+7/f+f//+sgIjwPw/kshyRJqole13XHlgPhAGLTU2hpeQnFYr6mTLOAHI2GRpIkKubuWu49ePgQAEzAjrz2elNgnM2AcLndVXuFj1/GrnMp01qxmMf1ie8gSRI1Csa5ERAAsBTpwEG3G2VNw66dOwFAzM2AYRthuqIkTPNGBqvnjdj0VM39W52nxOxyu4XXFjNpITMyPGh7y5r2SP9nZ6rWegq3MZNbRk/hNgCgrGlPOFJQEb48tjXXNxweBwDI8mEAQLvPjzaPF+9l/hDhKRZUrJZKUJQ4wuFx+H37Nic0fHCXh8Pj6D7ZB0WJYyGVFCFQlAQWUkn89utP6D7ZJ0Dn8/nN9Qh3+VxaBQB8+XUIQAix6SkBpr//U7E/l1ax37tn80Kj67rDirBvHz8GAGjzeMWazx+Azw/8cO0Xsbb64D7OnP2qscRGRLY/xhid6u6ikpqlgL+VAv5W6jrRSSU1S48frYrnkpqlrhOdQiYejdCrhwLEGKN6NoioMSDxaEQY5kYfP1ql0dAQMcZoNDREJTVL8WiE4tGIkDv7SW/DQJhV7rC694uZNBQlgZs3rom1K1cnxCwIfXkMkZ9vmHKJnV7LoidJEv3pOYKZ3DL61u+J2HKeLKSSeOPN48Loth27xdl/1u9DURKYVRJIpuYFqTnPrPTaknUmt1yTtIcO7ke7zw9ZDv5X4HJ30dL6ikn++s3fMfPXnMmgld6aQLhBq37CuGf0Ap/LmoY2jxfFgloFwk5vzYSm67qj3nUbu3hBzGVNE/9/HL9kmwqMoa58KWe9zqrywMAXAzgQ8EJRErhydQIBOShIm0zNi2fjOaNOSZLoXs8LWIp0mFoEBxGZNo9mYiaScvfzVM6L2Z3ZdNVbHwg8SXDvvPu+iUfbduw26bQirtPY4FgRauziBQTkINo8XshyELIcfNp/VFdXI4CypmExk8ZsRa9Siy/i+tYLzcjwoADketqRfTM4IAAY1zmAD3pPN9zZN9U8c0A8T3AAxqTH8wjPIY129s5GjHPGS5JEydS8LQBjIuM69O9fxMrkmm3/6rQDYVTAv2cqAfB2MfvRWwAAv28fYtNTJqMrk2tYinQAiDVffRlj9PeH2ynWfpSMhY8Xt9HQEJ137SXKfEt0qYXOu/bSaGhIyMWjEVHwGGN1i5+zXi/C34Kz30hCAOi99TlWJtfQt14Cek9jZHjQJL9lZLVKUMa1WnKbBmSrB8NzMv4HUjn+HQAnemCgvy0b7wAAAABJRU5ErkJggg=="},200:function(e,a,t){e.exports=t.p+"static/media/bulldragon.3a7b4c64.png"},201:function(e,a,t){e.exports=t.p+"static/media/chimera.121b54c4.png"},202:function(e,a,t){e.exports=t.p+"static/media/clairvoyant.592d4831.png"},203:function(e,a,t){e.exports=t.p+"static/media/corruptedelemental.afac4950.png"},204:function(e,a,t){e.exports=t.p+"static/media/corruptedhorseman.d1501579.png"},205:function(e,a,t){e.exports=t.p+"static/media/crocodilerogue.b104c292.png"},206:function(e,a,t){e.exports=t.p+"static/media/crow.7768b719.png"},207:function(e,a,t){e.exports=t.p+"static/media/crystalmage.4bf957fc.png"},208:function(e,a,t){e.exports=t.p+"static/media/cthulhu.20d00b63.png"},209:function(e,a,t){e.exports=t.p+"static/media/cultist.ab38b046.png"},210:function(e,a,t){e.exports=t.p+"static/media/darknesstitan.30cec73a.png"},211:function(e,a,t){e.exports=t.p+"static/media/demon.e7f6100a.png"},212:function(e,a,t){e.exports=t.p+"static/media/dragonemperor.a2a9b7a0.png"},213:function(e,a,t){e.exports=t.p+"static/media/dryad.b2714efe.png"},214:function(e,a,t){e.exports=t.p+"static/media/dryadqueen.be647a7b.png"},215:function(e,a,t){e.exports=t.p+"static/media/dynamo.50a104fd.png"},216:function(e,a,t){e.exports=t.p+"static/media/elvenking.aedd5575.png"},217:function(e,a,t){e.exports=t.p+"static/media/elvenmage.1ab56b3c.png"},218:function(e,a,t){e.exports=t.p+"static/media/excelsios.d2fc86a5.png"},219:function(e,a,t){e.exports=t.p+"static/media/feralbeast.ddca472b.png"},220:function(e,a,t){e.exports=t.p+"static/media/fireangel.eb4f7f44.png"},221:function(e,a,t){e.exports=t.p+"static/media/fireimp.4e595ae6.png"},222:function(e,a,t){e.exports=t.p+"static/media/firelord.f5c5d572.png"},223:function(e,a,t){e.exports=t.p+"static/media/firewitch.21f6a5f8.png"},224:function(e,a,t){e.exports=t.p+"static/media/forestgolem.2bd711d2.png"},225:function(e,a,t){e.exports=t.p+"static/media/gazer.7f4081bf.png"},226:function(e,a,t){e.exports=t.p+"static/media/ghostknight.1850fbe9.png"},227:function(e,a,t){e.exports=t.p+"static/media/giantfish.87be5b4c.png"},228:function(e,a,t){e.exports=t.p+"static/media/goblinmage.a43bec8c.png"},229:function(e,a,t){e.exports=t.p+"static/media/golddragon.7dbeda6d.png"},230:function(e,a,t){e.exports=t.p+"static/media/iceelemental.8db0dae5.png"},231:function(e,a,t){e.exports=t.p+"static/media/harbinger.86e1bf28.png"},232:function(e,a,t){e.exports=t.p+"static/media/ignis.a17d9620.png"},233:function(e,a,t){e.exports=t.p+"static/media/imp.0cf4dc00.png"},234:function(e,a,t){e.exports=t.p+"static/media/knightking.70b87189.png"},235:function(e,a,t){e.exports=t.p+"static/media/koboldarcher.04bffa8d.png"},236:function(e,a,t){e.exports=t.p+"static/media/lamprey.e7d4fc5a.png"},237:function(e,a,t){e.exports=t.p+"static/media/lichwarlord.2854af5a.png"},238:function(e,a,t){e.exports=t.p+"static/media/mage.e8269fe0.png"},239:function(e,a,t){e.exports=t.p+"static/media/minordemon.412074be.png"},240:function(e,a,t){e.exports=t.p+"static/media/myrdin.3e0fe616.png"},241:function(e,a,t){e.exports=t.p+"static/media/primaldemon.304f6e51.png"},242:function(e,a,t){e.exports=t.p+"static/media/radulac.fda502c8.png"},243:function(e,a,t){e.exports=t.p+"static/media/rootgolem.69fffbee.png"},244:function(e,a,t){e.exports=t.p+"static/media/runicgolem.be47b97c.png"},245:function(e,a,t){e.exports=t.p+"static/media/scarletwyrm.31038366.png"},246:function(e,a,t){e.exports=t.p+"static/media/shadowscythe.218ee83f.png"},247:function(e,a,t){e.exports=t.p+"static/media/sparkdragon.ebb8eafc.png"},248:function(e,a,t){e.exports=t.p+"static/media/stonegolem.34ebdfbb.png"},249:function(e,a,t){e.exports=t.p+"static/media/succubus.69381290.png"},250:function(e,a,t){e.exports=t.p+"static/media/sunwarrior.c3a396f6.png"},251:function(e,a,t){e.exports=t.p+"static/media/thanatos.a423aaf0.png"},252:function(e,a,t){e.exports=t.p+"static/media/vampire.61d0e2ae.png"},253:function(e,a,t){e.exports=t.p+"static/media/voidgargoyle.9e5f2db9.png"},254:function(e,a,t){e.exports=t.p+"static/media/waterspirit.ac60f791.png"},255:function(e,a,t){e.exports=t.p+"static/media/windpriest.d3ff00f9.png"},256:function(e,a,t){e.exports=t.p+"static/media/yoggoth.e62c50a1.png"},258:function(e,a,t){e.exports=t.p+"static/media/sigil-white.89f0d8c4.svg"},259:function(e,a,t){e.exports=t.p+"static/media/welcome.df861ef6.png"},260:function(e,a,t){e.exports=t.p+"static/media/logo.eecd631a.png"},261:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAABfmlDQ1BIRCA3MDktQQAAKJGVjrFKI1EUhr8bo1EMGCSohSwXFLGYSHSLGLUZIxjFQqJCkm4yGePCJLlMrqgPYGejhWizy+orLLvNFpZioYUgCMFnEARBRMZi0DQusn/1nQ/OOT+EtKWUGwaqNe3l5mdlvlCUkSbdROllin7LbihzeXmJjyPg8QYBcJ2wlHLXF55uZ3a3fvzqWDz+MqWNf+y9pbvsNGwQnYBdbthVEC5g2MrTII6AxJZWGsQ5EPfyhSKIJhCvBHwPxEv5QhFCYSDureYyEBoAYqWAR4FYJeBJIGZvWGUIZQEj6ABAV3ZOppLphPlJ7/9O1d18+yGAqFNbWwFiwCBZ5pCkSJImgamdbQ2Qqasd71tlQ0tTKdeRmXpVbWrHM+RCzR4z5ERyPAmQLxRlcPohhwBE31XL1X9Cegja9lqudAh//sLARcsNf4eeafh9qSzPei8uHsOfzY31rxMBR2eh/c73H0YgcgAv+77/fOL7L6fQ1oQz9xUmqGnhJTh2ngAAAAlwSFlzAAALEwAACxMBAJqcGAAABpJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wMy0xM1QyMzozMjo0MyswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDMtMTNUMjM6Mzc6MTgrMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDMtMTNUMjM6Mzc6MTgrMDE6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDQ3YTQwNGItNDllMC00ZWU3LWIwZTItZDNhNTcxOGY1NDZkIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU1Q0YzNzcwNUQ5RTExRUFCRTFFOUFEQzgxMjM0QjZFIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RTVDRjM3NzA1RDlFMTFFQUJFMUU5QURDODEyMzRCNkUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTVDRjM3NkQ1RDlFMTFFQUJFMUU5QURDODEyMzRCNkUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTVDRjM3NkU1RDlFMTFFQUJFMUU5QURDODEyMzRCNkUiLz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzQ0YjM5OGQtNTYzOS00ZTVmLWFjNTAtNzAyZGI3MTBlZmI0IiBzdEV2dDp3aGVuPSIyMDIwLTAzLTEzVDIzOjM3OjA4KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDQ3YTQwNGItNDllMC00ZWU3LWIwZTItZDNhNTcxOGY1NDZkIiBzdEV2dDp3aGVuPSIyMDIwLTAzLTEzVDIzOjM3OjE4KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz469glJAAAAi0lEQVQokY2RSw7AIAhEmR7Uw3HR6QYaPqIlMUHhAQ4gKdEALClGUlNOhACsWsTeE/jcAOuUJni2WRdrEAAB0Pwj9MdGIezz0dctVMEdkCBXx5T6EuLdYbicJZg6RZikQkTaONVqHHFx03JLR23qHcbL6k3JEzz+iaROxZp6dSc+doqT9ErL/d2J8RdHzrAW/vg69AAAAABJRU5ErkJggg=="},262:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAPCAYAAAAyPTUwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTVDRjM3NzM1RDlFMTFFQUJFMUU5QURDODEyMzRCNkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTVDRjM3NzQ1RDlFMTFFQUJFMUU5QURDODEyMzRCNkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNUNGMzc3MTVEOUUxMUVBQkUxRTlBREM4MTIzNEI2RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNUNGMzc3MjVEOUUxMUVBQkUxRTlBREM4MTIzNEI2RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu+YZPEAAACUSURBVHjaYmRABZEMeAALusD/o2YYip6+/skgE3CRgRHZVLDCd+/gAn/4BBlevv8FVggEy5nwWYusEEQw4jL16V9uFIUggNVkJIUwT0fCTI78v1kFRaG0KDuG50A2MKIHF3JoICuEBd1ybOGMrhDZgwhP4lCI1YO4FGIEHT6FKCYTUgh365MN+pGEEhFGoBMCAAEGALMcUYplX765AAAAAElFTkSuQmCC"},263:function(e,a,t){e.exports=t.p+"static/media/sigil.282c65d0.svg"},264:function(e,a,t){e.exports=t.p+"static/media/portal.348cb391.png"},265:function(e,a,t){e.exports=t.p+"static/media/score.46c220b0.svg"},267:function(e,a,t){e.exports=t(536)},295:function(e,a){},297:function(e,a){},329:function(e,a){},330:function(e,a){},395:function(e,a,t){},519:function(e,a,t){},520:function(e,a,t){},521:function(e,a,t){},522:function(e,a,t){},523:function(e,a,t){},524:function(e,a,t){},525:function(e,a,t){},526:function(e,a,t){},527:function(e,a,t){},528:function(e,a,t){},529:function(e,a,t){},530:function(e,a,t){},531:function(e,a,t){},532:function(e,a,t){},533:function(e,a,t){},534:function(e,a,t){},535:function(e,a,t){},536:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(46),s=t(2),c=t(77),o=t(1),i=function(e,a,t){return e.game.tutorial=!0,e},m=function(e,a){e.monsters={},e.monsterTiers={};for(var t=0;t<a.length;t++){var n=a[t];e.monsterTiers[n.tier]||(e.monsterTiers[n.tier]=[]),e.monsterTiers[n.tier].push(n.code),e.monsters[n.code]={name:n.name.split(",").map((function(e){return e.trim()})),tier:n.tier,element:n.element,profile:n.profile,boost:n.boost&&n.boost.split(",").map((function(e){return e.trim()})),items:n.items&&n.items.split(",").map((function(e){return e.trim()})),weapons:n.weapons&&n.weapons.split(",").map((function(e){return e.trim()})),humanoid:n.humanoid,elite:n.elite,fumble:1,verticalPosition:n.verticalPosition}}return e},u=t(11),p={maxLevel:30,zones:6,combatSpeed:3e3,widgetDelay:600,itemStateDelay:2e3,monsterCharPointsRange:[8,110],monsterCharPointsRange_loop:[120,500],eliteCharPointsRange:[30,50],beastHealthBoostRange:[30,60],manualCharBoostRange:[30,60],postScoreUrl:"https://mhd20.com/postscore/",getScoreUrl:"https://mhd20.com/getscore/",maxEnergyMultiplyer:{STR:10,MAG:10,CON:10},skillsRecharge:{heal:3,stun:3,itembreak:3,reflect:4,psyblast:3,curse:3},icons:{battleStart:["book",1],block:["skill",6],focus:["skill",2],specialattack:["skill",3],specialcast:["skill",0],stun:["skill",8],itembreak:["skill",5],psyblast:["skill",4],curse:["skill",1],attackfumble:["skill",9],castfumble:["skill",9],critical:["skill",10],fumble:["skill",11],skip:["skill",12],heal:["skill",13],reflect:["skill",14],defending:["skill",15],boost:["skill",16],reflectfail:["skill",17]}},d={game:{state:"welcome",settings:{combatSpeed:p.combatSpeed}}},g={warrior:{STR:8,DEX:4,CON:6,MAG:2,LCK:1,fumble:1,startItem:"STR"},mage:{STR:2,DEX:5,CON:4,MAG:9,LCK:1,fumble:1,startItem:"MAG"},thief:{STR:5,DEX:6,CON:4,MAG:5,LCK:2,fumble:2,startItem:"DEX"}},h={warrior:["quickheal","damage","restore","sharpenphysical"],mage:["quickheal","damage","temporaryupgrade","sharpenmagical"],thief:["quickheal","restore","temporaryluckupgrade","permanentupgrade"]},f={humanoid:{STR:["belt","glove","ring"],DEX:["glove","ring","shoe"],CON:["armor","helmet","shield"],MAG:["amulet","book","ring"],LCK:["amulet","crystal","gem"],physicalWeapon:["axe","bow","flail","hammer","mace","morningstar","sword"],magicalWeapon:["cross","sceptre","wand"]},beast:{STR:[],DEX:[],CON:[],MAG:[],LCK:[],physicalWeapon:[],magicalWeapon:[]}},y={STR:{normal:[1,9],magic:[10,19],rare:[20,29],legendary:[30,40]},DEX:{normal:[1,9],magic:[10,19],rare:[20,29],legendary:[30,40]},CON:{normal:[1,9],magic:[10,19],rare:[20,29],legendary:[30,40]},MAG:{normal:[1,9],magic:[10,19],rare:[20,29],legendary:[30,40]},LCK:{normal:[1,1],magic:[2,2],rare:[3,3],legendary:[4,5]}},b=["normal","magic","rare","legendary"],v=["fire","water","earth"],E=["none","fire","water","earth"],k=[8,1,1,1],N={fire:"STR",earth:"CON",water:"MAG"},A={STR:"fire",CON:"earth",MAG:"water"},M={damage:["d4","d6","d8","d10","d12","d20"],normal:[50,50,10,0,0,0],magic:[0,0,50,50,10,0],rare:[0,0,0,50,50,10],legendary:[0,0,0,0,50,50]},S={normal:[1,4],magic:[3,6],rare:[5,8],legendary:[7,10]},w={normal:[1,5],magic:[6,10],rare:[11,15],legendary:[16,20]},T={physicalWeapon:{normal:[10,20],magic:[8,15],rare:[6,10],legendary:[4,8]},magicalWeapon:{normal:[3,15],magic:[3,15],rare:[3,15],legendary:[3,15]}},O={quickheal:{normal:{value:30,type:"food",id:[0,34]},magic:{value:50,type:"food",id:[35,44]},rare:{value:100,type:"potion",id:[14,14]},legendary:{value:200,type:"potion",id:[42,42]}},restore:{normal:{type:"spell",id:0,charges:1},magic:{type:"spell",id:0,charges:2},rare:{type:"spell",id:0,charges:3},legendary:{type:"spell",id:0,charges:4}},temporaryupgrade:{normal:{value:5,type:"vial"},magic:{value:10,type:"vial"},rare:{value:20,type:"vial"},legendary:{value:30,type:"vial"}},temporaryluckupgrade:{normal:{value:2,type:"skill",id:9,charges:1},magic:{value:4,type:"skill",id:9,charges:1},rare:{value:6,type:"skill",id:9,charges:2},legendary:{value:10,type:"skill",id:9,charges:3}},permanentupgrade:{normal:{value:2,type:"spell"},magic:{value:4,type:"spell"},rare:{value:6,type:"spell"},legendary:{value:10,type:"spell"}},damage:{normal:{value:20,type:"throw",id:[0,13]},magic:{value:30,type:"throw",id:[0,13]},rare:{value:60,type:"throw",id:[14,33]},legendary:{value:100,type:"throw",id:[14,33]}},sharpenphysical:{normal:{type:"tool",id:[0,3],charges:1},magic:{type:"tool",id:[4,7],charges:2},rare:{type:"tool",id:[8,11],charges:3},legendary:{type:"tool",id:[8,11],charges:4}},sharpenmagical:{normal:{type:"tool",id:[0,3],charges:1},magic:{type:"tool",id:[4,7],charges:2},rare:{type:"tool",id:[8,11],charges:3},legendary:{type:"tool",id:[8,11],charges:4}}},G={items:{STR:{fire:[70,71],water:[74,75],earth:[72,73],light:[78,79],darkness:[76,77]},DEX:{fire:[60,61],water:[64,65],earth:[62,63],light:[68,69],darkness:[66,67]},CON:{fire:[40,41],water:[44,45],earth:[42,43],light:[48,49],darkness:[46,47]},MAG:{fire:[50,51],water:[54,55],earth:[52,53],light:[58,59],darkness:[56,57]},LCK:{fire:[80],water:[82],earth:[81],light:[84],darkness:[83]}},weapons:{STR:{fire:[0,1,2,3],water:[8,9,10,11],earth:[4,5,6,7],light:[16,17,18,19],darkness:[12,13,14,15]},MAG:{fire:[20,21,22,23],water:[28,29,30,31],earth:[24,25,26,27],light:[36,37,38,39],darkness:[32,33,34,35]}}},C={amulet:42,armor:192,axe:119,bag:11,belt:1,book:24,bow:27,coin:11,coins:11,cross:35,crystal:11,drops:20,flail:25,food:44,gem:12,glove:10,hammer:35,helmet:180,mace:70,morningstar:22,potion:69,ring:19,sceptre:21,shield:144,shoe:43,skill:17,spell:47,sword:161,throw:33,tool:11,unique:84,vial:7,wand:17};function R(e){return Math.floor(Math.random()*e)+1}function j(e){return e[Math.floor(Math.random()*e.length)]}function L(e,a){return Math.floor(Math.random()*(a-e+1)+e)}function x(e,a,t){return e>t&&(e=t),e<a&&(e=a),e}function P(e,a){for(var t,n=[],r=0;r<e.length;){for(t=0;t<a[r];t++)n[n.length]=e[r];r++}return n}function D(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}function I(e,a){var t=30*e,n=L(0,20),r=L(20,40);return t+Math.round(t*n/100)+Math.round(t*r/100)}function X(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sell",n=L(0,10),r={normal:[50,100],magic:[100,300],rare:[400,1e3],legendary:[1e3,2e3]},l=L(r[a][0],r[a][1]),s=l+Math.round(l*n/100);return"buy"!==t&&(s=Math.round(s/2)),s}function W(e,a){for(var t=[],n=20*e/2,r=L(1,3),l=0;l<r;l++){var s=L(0,10);t.push({type:"drops",id:L(1,C.drops),reward:n+Math.round(n*s/100)})}if(a){var c=L(0,10),o=L(200,300);t.push({type:"drops",id:L(1,C.drops),quality:"rare",reward:n+Math.round(n*c/100)+Math.round(n*o/100)})}return t}function B(e,a){var t=a?f.humanoid[e]:f.beast[e];return t&&t.length>0?t[Math.floor(Math.random()*t.length)]:null}function _(e,a){var t=C[e],n=Math.floor(t/p.maxLevel),r=Math.ceil(t/p.maxLevel);return L(n*(a-1)<1?1:n*(a-1),r*a>t?t:r*a)}function F(e,a){return L(y[e][a][0],y[e][a][1])}function U(e,a,t){var n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e===a?n=100:e<a?n=100-15*(a-e):e>a&&(n=r?100:100-15*(e-a)),n<0&&(n=0),n}function V(e,a){return j(P(b,[U(e,1,7),U(e,7,7),U(e,13,7),U(e,20,7,!0)]))}function Y(e,a){var t=a?"STR"===e?f.humanoid.physicalWeapon:f.humanoid.magicalWeapon:"STR"===e?f.beast.physicalWeapon:f.beast.magicalWeapon;return t[Math.floor(Math.random()*t.length)]}function H(e){var a=P(M.damage,M[e]),t=L(S[e][0],S[e][1]),n=L(w[e][0],w[e][1]),r=0===n?"":"+"+n;return t+j(a)+r}function K(e,a){var t="STR"===e?T.physicalWeapon[a]:T.magicalWeapon[a];return L(t[0],t[1])}function Z(){return j(P(E,k))}function z(e,a,t){var n,r,l,s,c,o,i,m,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],p=1;switch(e){case"quickheal":n="quickheal",r=O[e][a].value,l=O[e][a].type,s=L(O[e][a].id[0],O[e][a].id[1]),c="".concat(r," HP"),m=.7;break;case"restore":n="restore",r=O[e][a].value,l=O[e][a].type,s=O[e][a].id,p=O[e][a].charges,c="Energy",m=.7;break;case"temporaryupgrade":n="upgrade",o="temporary",r=O[e][a].value,l=O[e][a].type,s={STR:2,MAG:4,DEX:6,CON:5}[u],i=u,c="+".concat(r," ").concat(u),m=.7;break;case"temporaryluckupgrade":n="upgrade",o="temporary",r=O[e][a].value,l=O[e][a].type,s=O[e][a].id,p=O[e][a].charges,i="LCK",c="+".concat(r," ").concat(i),m=.7;break;case"permanentupgrade":n="upgrade",o="permanent",r=O[e][a].value,l=O[e][a].type,s={STR:24,MAG:29,DEX:28,CON:32}[u],i=u,c="+".concat(r," ").concat(u),m=.9;break;case"damage":n="damage",r=O[e][a].value,l=O[e][a].type,s=L(O[e][a].id[0],O[e][a].id[1]),c="".concat(r," DMG"),m=.7;break;case"sharpenphysical":n="sharpen",r="STR",l=O[e][a].type,s=L(O[e][a].id[0],O[e][a].id[1]),p=O[e][a].charges,c="Sharpen",m=.7;break;case"sharpenmagical":n="sharpen",r="MAG",l=O[e][a].type,s=L(O[e][a].id[0],O[e][a].id[1]),p=O[e][a].charges,c="Enchant",m=.7}return{type:l,id:s,effect:n,char:i,quality:a,permancence:o,value:r,label:c,charges:p,reward:Math.round(X(t,a)*m),price:Math.round(X(t,a,"buy")*m)}}function q(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=Y(e,t),s=r||V(a),c=_(l,a),o=H(s),i=Z(),m=K(e,s);return{type:l,char:e,id:c,score:o,element:i,cost:m,quality:s,reward:X(a,s),price:X(a,s,"buy")}}function Q(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={};if(e)for(var s=0;s<e.length;s++)l[e[s]]=q(e[s],a,t,n,r);return l}function J(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=B(e,t),s=r||V(a),c=_(l,a),o=F(e,s);return{type:l,char:e,id:c,score:o,quality:s,reward:X(a,s),price:X(a,s,"buy")}}function $(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={};if(e)for(var s=0;s<e.length;s++)l[e[s]]=J(e[s],a,t,n,r);return l}function ee(e,a){var t,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n||V(a),l=["STR","DEX","MAG"],s=["STR","DEX","CON","MAG"];return"temporaryupgrade"===e&&(t=j(l)),"permanentupgrade"===e&&(t=j(s)),"temporaryluckupgrade"===e&&(t="LCK"),z(e,r,a,t)}function ae(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};if(e)for(var r=0;r<e.length;r++)n[e[r]]=ee(e[r],a,t);return n}var te=function(e,a){var t=e[a],n=ne(e,"temporary",a),r=ne(e,"permanent",a),l=e.items[a]&&e.items[a].score?e.items[a].score:0;return{natural:t+r,items:l,temporary:n,static:t+r+l,total:t+r+l+n}},ne=function(e,a,t){var n=0;if(e.buff&&e.buff[a]&&e.buff[a].length>0){n=e.buff[a].filter((function(e){return e.stat===t}));for(var r=0,l=0;l<n.length;l++)r+=n[l].value;n=r}return n},re=function(e,a,t,n,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;e.buff||(e.buff={temporary:[],permanent:[]}),"temporary"!==a||e.buff.temporary||(e.buff.temporary=[]),"permanent"!==a||e.buff.permanent||(e.buff.permanent=[]);var s={stat:t,value:n,origin:r,rounds:l};return"temporary"===a&&e.buff.temporary.push(s),"permanent"===a&&e.buff.permanent.push(s),e},le=function(e){return e.player.buff||(e.player.buff={temporary:[],permanent:[]}),e.opponent.buff||(e.opponent.buff={temporary:[],permanent:[]}),e.player=se(e.player),e.opponent=se(e.opponent),e},se=function(e){for(var a=0;a<e.buff.temporary.length;a++)e.buff.temporary[a].rounds--,e.buff.temporary[a].rounds<0&&delete e.buff.temporary[a];return e.buff.temporary=e.buff.temporary.filter((function(e){return e})),e},ce=function(e){if(!e.game.playerTurn)for(var a=0,t=Object.entries(e.player.skills);a<t.length;a++){var n=Object(u.a)(t[a],2),r=n[0],l=n[1];l.current<l.ready&&e.player.skills[r].current++}return e},oe=function(e){var a=e.player,t=Object(o.a)({},a);if(0!==Object.keys(t).length){var n=te(t,"CON").static*p.maxEnergyMultiplyer.CON;t.maxHitPoints=n;var r=te(t,"MAG").static*p.maxEnergyMultiplyer.MAG;t.maxMagicPoints=r;var l=te(t,"STR");t.maxStamina=l.static*p.maxEnergyMultiplyer.STR,t.maxPhysicalRage=Math.round(50*n/100),t.maxMagicalRage=Math.round(50*r/100),e.player=t}return e},ie=function(e,a){var t=e.player,n=e.opponent,r=e.game,l=r.playerTurn?Object(o.a)({},n):Object(o.a)({},t);if("magical"===a){var s=te(l,"MAG"),c=l.magicPoints+s.total>l.maxMagicPoints?l.maxMagicPoints:l.magicPoints+s.total;r.playerTurn?e.opponent.magicPoints=c:e.player.magicPoints=c}if("physical"===a){var i=te(l,"CON"),m=l.stamina+i.natural>l.maxStamina?l.maxStamina:l.stamina+i.natural;r.playerTurn?e.opponent.stamina=m:e.player.stamina=m}return e},me=function(e,a,t){return"magical"===t&&(e.magicPoints=e.magicPoints-a,e.magicPoints<0&&(e.magicPoints=0)),"physical"===t&&(e.stamina=e.stamina-a,e.stamina<0&&(e.stamina=0)),e},ue=function(e,a,t){if("hitPoints"===t&&(e.hitPoints+=a,e.hitPoints>e.maxHitPoints&&(e.hitPoints=e.maxHitPoints)),"stamina"===t&&(e.stamina+=a,e.stamina>e.maxStamina&&(e.stamina=e.maxStamina)),"magicPoints"===t&&(e.magicPoints+=a,e.magicPoints>e.maxMagicPoints&&(e.magicPoints=e.maxMagicPoints)),"skills"===t)for(var n=0,r=Object.entries(e.skills);n<r.length;n++){var l=Object(u.a)(r[n],1)[0];e.skills[l].current=e.skills[l].ready}return e},pe=function(e,a){return e.instants[a].charges--,0===e.instants[a].charges&&(e.instants[a]=null),e},de=function(e,a,t,n){var r=JSON.parse(JSON.stringify(e));return r.player[a][t]=n,r=he(e,r,a,t)},ge=function(e){for(var a={},t=0,n=Object.entries(e.player.items);t<n.length;t++){var r=Object(u.a)(n[t],2),l=(r[0],r[1]);l.element&&(a[l.element]=(a[l.element]||0)+1)}!function(e,a,t,n){if(e[a].buff&&e[a].buff[t]){for(var r=[],l=0;l<e[a].buff[t].length;l++){var s=e[a].buff[t][l];s.origin!==n&&r.push(s)}e[a].buff[t]=r}else e[a].buff={temporary:[],permanent:[]}}(e,"player","permanent","setItems"),e.player.setItems={};for(var s=0,c=Object.entries(a);s<c.length;s++){var o=Object(u.a)(c[s],2),i=o[0],m=o[1];if(m>1)for(var p=1;p<m;p++)N[i]&&re(e.player,"permanent",N[i],2*m,"setItems"),e.player.setItems[i]=m}return e},he=function(e,a,t,n){if(a=oe(a),a=ge(a),("items"===t||"upgrade"===t)&&"CON"===n){var r=te(e.player,"CON"),l=(te(a.player,"CON").static-r.static)*p.maxEnergyMultiplyer.CON;a.player.hitPoints=a.player.hitPoints+l}return a},fe=function(e,a,t,n){e.score||(e.score={alltime:{},game:{},run:{}});var r=t.split("/");switch(r.length){case 1:e.score[a][r[0]]?e.score[a][r[0]]+=n:e.score[a][r[0]]=n;break;case 2:e.score[a][r[0]]||(e.score[a][r[0]]={}),e.score[a][r[0]][r[1]]?e.score[a][r[0]][r[1]]+=n:e.score[a][r[0]][r[1]]=n;break;case 3:e.score[a][r[0]]||(e.score[a][r[0]]={}),e.score[a][r[0]][r[1]]||(e.score[a][r[0]][r[1]]={}),e.score[a][r[0]][r[1]][r[2]]?e.score[a][r[0]][r[1]][r[2]]+=n:e.score[a][r[0]][r[1]][r[2]]=n}return e},ye=function(e,a,t,n){return e.score||(e.score={alltime:{},game:{},run:{}}),e.score[a][t]?n>e.score[a][t]&&(e.score[a][t]=n):e.score[a][t]=n,e},be=function(e,a,t,n){return e.score||(e.score={alltime:{},game:{},run:{}}),e.score[a][t]?e.score[a][t].push(n):(e.score[a][t]=[],e.score[a][t].push(n)),e},ve=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.game.playerTurn){switch(t){case"run":e=fe(e,"alltime",a,n),e=fe(e,"game",a,n),e=fe(e,"run",a,n);break;case"game":e=fe(e,"alltime",a,n),e=fe(e,"game",a,n);break;case"alltime":e=fe(e,"alltime",a,n)}return e}return e},Ee=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"run":e=fe(e,"alltime",a,n),e=fe(e,"game",a,n),e=fe(e,"run",a,n);break;case"game":e=fe(e,"alltime",a,n),e=fe(e,"game",a,n);break;case"alltime":e=fe(e,"alltime",a,n)}return e},ke=function(e){return Math.floor(Math.floor(25+Math.sqrt(625+100*e))/50)},Ne=function(e){return 25*e*e-25*e},Ae=function(e,a){var t=e.player?e.player.name:"",n=e.player&&e.player.xp?e.player.xp:0,r=e.player?e.player.gold:0;e.player={name:t,level:1,gold:r,xp:n,items:{},weapons:{},skills:{}},e.player.STR=g[a].STR,e.player.DEX=g[a].DEX,e.player.CON=g[a].CON,e.player.MAG=g[a].MAG,e.player.LCK=g[a].LCK,e.player.fumble=g[a].fumble;var l=Q(["STR","MAG"],1,!0,!1,"normal");e.player.weapons.STR=l.STR,e.player.weapons.MAG=l.MAG;var s=$([g[a].startItem],1,!0,!1,"normal");if(s[g[a].startItem].score>2&&(s[g[a].startItem].score=2),e.player.items[g[a].startItem]=s[g[a].startItem],e.game&&e.game.legacy)for(var c=0,o=Object.entries(e.game.legacy);c<o.length;c++)for(var i=Object(u.a)(o[c],1)[0],m=0,d=Object.entries(e.game.legacy[i]);m<d.length;m++){var f=Object(u.a)(d[m],2),y=f[0],b=f[1];e.player[i][y]=b}e=oe(e),(e=ge(e)).player.hitPoints=e.player.maxHitPoints,e.player.magicPoints=e.player.maxMagicPoints,e.player.stamina=e.player.maxStamina,e.player.physicalRage=0,e.player.magicalRage=0,e.player.skills.heal={current:p.skillsRecharge.heal,ready:p.skillsRecharge.heal},e.player.skills.stun={current:p.skillsRecharge.stun,ready:p.skillsRecharge.stun},e.player.skills.itembreak={current:p.skillsRecharge.itembreak,ready:p.skillsRecharge.itembreak},e.player.skills.reflect={current:p.skillsRecharge.reflect,ready:p.skillsRecharge.reflect},e.player.skills.psyblast={current:p.skillsRecharge.psyblast,ready:p.skillsRecharge.psyblast},e.player.skills.curse={current:p.skillsRecharge.curse,ready:p.skillsRecharge.curse},e.player.instants=[];for(var v=ae(h[a],5*Math.floor(ke(e.player.xp)/2)<1?1:5*Math.floor(ke(e.player.xp)/2)),E=0,k=Object.entries(v);E<k.length;E++){var N=Object(u.a)(k[E],2),A=(N[0],N[1]);e.player.instants.push(A)}return e},Me=function(e){return e.game.level=0,(e=Ee(e,"runs","game")).score.run={},e},Se=[{version:"1.2",date:"21.06.20",code:"Permadeath",reset:!1,note:"A final run, the Abyss of Permadeath, is now available after the last boss is defeated (thanks to GrandMaster Bab for the idea). The run is extra hard, and death is final.",changes:["New last run in super hard mode","Better endgame screens (they still suck)","Various nerfing","Various bug fixes","Hall of fame scores reset"]},{version:"1.1",date:"18.06.20",code:"Git gud",reset:"run",note:"Beta testers complain the game is too hard. Filthy casuals. Game difficulty lowered and testing a less punitive elite system.",changes:["Global monster nerfing","Adding 5 more levels (now 30)","Boss every 5 levels replaces the random/frustrating elites","Game creation refacto : all levels computed at start","Better level roadmap","New ennemies","Release note view + run reset system"]},{version:"1.0",date:"13.06.20",code:"Are we there yet?",reset:!1,note:'First "almost done" release, w00t.',changes:[]}],we=function(e){return e.game=d.game,e.game.tutorial=!0,e.opponent={},e.monsters={},e.monsterTiers={},e.uniques={},e.log={},e.dataLogs={},e.score&&(e.score.run={}),e.version=Se[0].version,e.game.state="releaseNotes",e},Te=function(e){return e.game.state="releaseNotes",e},Oe=function(e){return e.version=Se[0].version,e},Ge=function(e){return e.game=d.game,e.player={},e.opponent={},e.log={},e.dataLogs={},e.score.run={},e.score.game={},e.game.state="allReset",e=ve(e,"resets","alltime")},Ce=function(e){return e.score.run.scoreSent=!0,e},Re=function(e,a,t,n){return e.player[a][t]=n,e},je=function(e,a,t){var n=e.player.gold,r="add"===a?n+t:n-t;return e.player.gold=r,e},Le=function(e,a,t,n){return e.game.legacy||(e.game.legacy={}),e.game.legacy[a]||(e.game.legacy[a]={}),e.game.legacy[a][t]=n,e},xe=function(e,a,t,n){return(e=de(e,a,t,n)).player.gold-=n.price,e=Ee(e,"shop/gold/spent","alltime",n.price),e=Ee(e,"shop/items/purchased","alltime")},Pe=function(e,a){var t=!1;if(e.player.instants){for(var n=0;n<e.player.instants.length;n++)if(!e.player.instants[n]){t=n;break}}else e.player.instants=[];return!1!==t?e.player.instants[t]=a:e.player.instants.push(a),e.player.gold-=a.price,e=Ee(e,"shop/gold/spent","alltime",a.price),e=Ee(e,"shop/items/purchased","alltime")},De=function(e,a,t){var n=e.player.gold+e.opponent[a][t].reward;return e.player.gold=n,e.opponent[a][t]={},e=Ee(e,"shop/gold/won","alltime",e.opponent[a][t].reward),e=Ee(e,"shop/items/sold","alltime")},Ie=function(e,a,t){var n=e.player.gold+t.reward;return e.player.gold=n,e.player.instants[a]=null,e=Ee(e,"shop/gold/won","alltime",t.reward),e=Ee(e,"shop/items/sold","alltime")},Xe=function(e){return e.game.legacy={},e},We=function(e){return e.uniques=function(){var e={};function a(e,a){var t=13*L(200,400);return"weapons"===e&&"light"===a&&(t*=2),t}function t(e,a,t){var n;if("weapons"===e)switch(t){case 0:n=L(10,15)+"d"+j([20]);break;case 1:n=L(7,9)+"d"+j([4,6])+"+"+10*L(5,7);break;case 2:n="d4+"+10*L(9,13);break;case 3:n=L(7,9)+"d"+j([10,12])+"+"+10*L(3,5)}else if("items"===e)if("LCK"===a)n=L(4,5);else switch(t){case 0:case 2:n=L(40,50);break;case 1:case 3:n=L(45,65)}return n}e.items={},e.weapons={};for(var n=0,r=Object.entries(G);n<r.length;n++)for(var l=Object(u.a)(r[n],2),s=l[0],c=l[1],o=0,i=Object.entries(c);o<i.length;o++)for(var m=Object(u.a)(i[o],2),p=m[0],d=m[1],g=0,h=Object.entries(d);g<h.length;g++)for(var f=Object(u.a)(h[g],2),y=f[0],b=f[1],v=0,E=0;E<b.length;E++){var k=b[E];e[s][k]={type:"unique",char:p,id:k,score:t(s,p,v),element:y,cost:"weapons"===s?K(p,"legendary"):null,quality:"unique",reward:0,price:a(s,y)},3===v?v=0:v++}return e}(),e},Be=function(e,a,t,n){return(e=de(e,a,t,n)).opponent[a][t]={},e=Ee(e,"shop/items/looted","alltime")},_e=function(e,a){return e.game.uicolor=a,e},Fe=function(e,a,t){return"playerName"===a&&(e.player.name=t),e},Ue=function(e){return delete e.game.quitState,e.game.state="welcome",e},Ve=function(e){return e.game.state="welcome",e},Ye=function(e){return e.game.quitState=e.game.state,e.game.state="welcome",e},He=t(193),Ke=t.n(He),Ze=t(194),ze=t.n(Ze),qe=t(195),Qe=t.n(qe),Je=t(196),$e=t.n(Je),ea=t(197),aa=t.n(ea),ta=t(198),na=t.n(ta),ra=t(199),la=t.n(ra),sa=t(200),ca=t.n(sa),oa=t(201),ia=t.n(oa),ma=t(202),ua=t.n(ma),pa=t(203),da=t.n(pa),ga=t(204),ha=t.n(ga),fa=t(205),ya=t.n(fa),ba=t(206),va=t.n(ba),Ea=t(207),ka=t.n(Ea),Na=t(208),Aa=t.n(Na),Ma=t(209),Sa=t.n(Ma),wa=t(210),Ta=t.n(wa),Oa=t(211),Ga=t.n(Oa),Ca=t(212),Ra=t.n(Ca),ja=t(213),La=t.n(ja),xa=t(214),Pa=t.n(xa),Da=t(215),Ia=t.n(Da),Xa=t(216),Wa=t.n(Xa),Ba=t(217),_a=t.n(Ba),Fa=t(218),Ua=t.n(Fa),Va=t(219),Ya=t.n(Va),Ha=t(220),Ka=t.n(Ha),Za=t(221),za=t.n(Za),qa=t(222),Qa=t.n(qa),Ja=t(223),$a=t.n(Ja),et=t(224),at=t.n(et),tt=t(225),nt=t.n(tt),rt=t(226),lt=t.n(rt),st=t(227),ct=t.n(st),ot=t(228),it=t.n(ot),mt=t(229),ut=t.n(mt),pt=t(230),dt=t.n(pt),gt=t(231),ht=t.n(gt),ft=t(232),yt=t.n(ft),bt=t(233),vt=t.n(bt),Et=t(234),kt=t.n(Et),Nt=t(235),At=t.n(Nt),Mt=t(236),St=t.n(Mt),wt=t(237),Tt=t.n(wt),Ot=t(238),Gt=t.n(Ot),Ct=t(239),Rt=t.n(Ct),jt=t(240),Lt=t.n(jt),xt=t(241),Pt=t.n(xt),Dt=t(242),It=t.n(Dt),Xt=t(243),Wt=t.n(Xt),Bt=t(244),_t=t.n(Bt),Ft=t(245),Ut=t.n(Ft),Vt=t(246),Yt=t.n(Vt),Ht=t(247),Kt=t.n(Ht),Zt=t(248),zt=t.n(Zt),qt=t(249),Qt=t.n(qt),Jt=t(250),$t=t.n(Jt),en=t(251),an=t.n(en),tn=t(252),nn=t.n(tn),rn=t(253),ln=t.n(rn),sn=t(254),cn=t.n(sn),on=t(255),mn=t.n(on),un=t(256),pn=t.n(un),dn={alfadriel:Ke.a,ansellus:ze.a,arcanegolem:Qe.a,astrallich:$e.a,behemoth:aa.a,blindworm:na.a,bloodmage:la.a,bulldragon:ca.a,chimera:ia.a,clairvoyant:ua.a,corruptedelemental:da.a,corruptedhorseman:ha.a,crocodilerogue:ya.a,crow:va.a,crystalmage:ka.a,cthulhu:Aa.a,cultist:Sa.a,darknesstitan:Ta.a,demon:Ga.a,dragonemperor:Ra.a,dryad:La.a,dryadqueen:Pa.a,dynamo:Ia.a,elvenking:Wa.a,elvenmage:_a.a,excelsios:Ua.a,feralbeast:Ya.a,fireangel:Ka.a,fireimp:za.a,firelord:Qa.a,firewitch:$a.a,forestgolem:at.a,gazer:nt.a,ghostknight:lt.a,giantfish:ct.a,goblinmage:it.a,golddragon:ut.a,harbinger:ht.a,iceelemental:dt.a,ignis:yt.a,imp:vt.a,knightking:kt.a,koboldarcher:At.a,lamprey:St.a,lichwarlord:Tt.a,mage:Gt.a,minordemon:Rt.a,myrdin:Lt.a,primaldemon:Pt.a,radulac:It.a,rootgolem:Wt.a,runicgolem:_t.a,scarletwyrm:Ut.a,shadowscythe:Yt.a,sparkdragon:Kt.a,stonegolem:zt.a,succubus:Qt.a,sunwarrior:$t.a,thanatos:an.a,vampire:nn.a,voidgargoyle:ln.a,waterspirit:cn.a,windpriest:mn.a,yoggoth:pn.a},gn={brute:{STR:10,DEX:6,CON:4,MAG:1,LCK:1},tank:{STR:6,DEX:4,CON:9,MAG:2,LCK:1},duelist:{STR:7,DEX:8,CON:3,MAG:2,LCK:4},archmage:{STR:1,DEX:3,CON:4,MAG:12,LCK:2},wizard:{STR:2,DEX:2,CON:5,MAG:11,LCK:1},balanced:{STR:5,DEX:5,CON:5,MAG:5,LCK:2}};function hn(e,a){for(var t=0,n=0,r=Object.entries(a);n<r.length;n++){var l=Object(u.a)(r[n],2);l[0];t+=l[1].score}return Math.round((e.STR+e.DEX+e.CON+e.MAG+e.LCK+t)/4)}function fn(e){return e.name[Math.floor(Math.random()*e.name.length)]}function yn(e){return dn[e]?dn[e]:dn.mimic}function bn(e){var a=e.elite?e.elite:0;return L(1,100)<=a}function vn(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=p.maxLevel,l=p.monsterCharPointsRange,s=p.monsterCharPointsRange_loop,c=p.eliteCharPointsRange,o=p.beastHealthBoostRange,i=p.manualCharBoostRange,m=n?s[0]+Math.round((s[1]-s[0])/r*a):l[0]+Math.round((l[1]-l[0])/r*a);e.humanoid||(m+=6*a),t&&(m+=Math.round(m*L(c[0],c[1])/100));for(var d=[],g=[],h=gn[e.profile],f=0,y=Object.entries(h);f<y.length;f++){var b=Object(u.a)(y[f],2),v=b[0],E=b[1];"LCK"!==v&&(d.push(v),g.push(E))}var k=P(d,g),N=[];N.LCK=gn[e.profile].LCK;for(var A=0;A<m;A++){var M=j(k);N[M]?N[M]++:N[M]=1}if(N.STR&&0!==N.STR||(N.STR=1),N.DEX&&0!==N.DEX||(N.DEX=1),N.CON&&0!==N.CON||(N.CON=1),N.MAG&&0!==N.MAG||(N.MAG=1),e.boost)for(var S=0;S<e.boost.length;S++)N[e.boost[S]]+=Math.round(N[e.boost[S]]*L(i[0],i[1])/100);var w=10*N.CON;e.humanoid||(w+=Math.round(w*L(o[0],o[1])/100));var T=10*N.MAG;return{STR:N.STR?N.STR:1,DEX:N.DEX?N.DEX:1,CON:N.CON?N.CON:1,MAG:N.MAG?N.MAG:1,LCK:N.LCK?N.LCK:1,hitPoints:w,maxHitPoints:w,magicPoints:T,maxMagicPoints:T,items:e.items,weapons:e.weapons,humanoid:e.humanoid}}function En(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t[e],l=!!n||bn(r),s=vn(r,a,l,n),c=$(s.items,n?p.maxLevel:a,s.humanoid,l),o=Q(s.weapons,n?p.maxLevel:a,s.humanoid,l),i=hn(s,c),m=c.CON&&c.CON.score?10*c.CON.score:0,u=c.MAG&&c.MAG.score?10*c.MAG.score:0;return{name:fn(r),job:e,xp:i,reward:I(a),element:r.element,elite:l,humanoid:!!r.humanoid,pic:yn(e),verticalPosition:r.verticalPosition,STR:s.STR,DEX:s.DEX,CON:s.CON,MAG:s.MAG,LCK:s.LCK,fumble:r.fumble,hitPoints:s.hitPoints+m,maxHitPoints:s.maxHitPoints+m,magicPoints:s.magicPoints+u,maxMagicPoints:s.maxMagicPoints+u,items:c,weapons:o}}function kn(e,a,t,n,r,l){var s=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={monsters:t?a["boss-"+Math.ceil(e/(p.maxLevel/p.zones))]:a[Math.ceil(e/(p.maxLevel/p.zones))]};return n}(e,a,r);return En(j(n?s.monsters.filter((function(e){return n.indexOf(e)<0})):s.monsters),e,t,l)}function Nn(e,a,t){for(var n=[],r=[],l=1;l<=p.maxLevel;l++){var s=void 0;s=kn(l,a,e,r,l%5===0,t),n.push(s),r.push(s.job)}return n}var An=function(e){e.game.state="gameCreate";var a=e.monsterTiers,t=e.monsters;return e.game.opponentMap=Nn(t,a,!1),e},Mn=function(e){"number"===typeof e.game.level&&e.game.level||(e.game.level=0);var a=e.game.level;return e.game.level=a+1,e.game.state="levelTransition",e.game.level>p.maxLevel&&(e.game.level=p.maxLevel),e.opponent=e.game.opponentMap[e.game.level-1],e.game.pastOpponents?e.game.pastOpponents.push(e.opponent.job):e.game.pastOpponents=[e.opponent.job],e=function(e,a,t,n){switch(t){case"run":e=ye(e,"alltime",a,n),e=ye(e,"game",a,n),e=ye(e,"run",a,n);break;case"game":e=ye(e,"alltime",a,n),e=ye(e,"game",a,n);break;case"alltime":e=ye(e,"alltime",a,n)}return e}(e,"maxlevel","run",a+1)},Sn=function(e){return e.game.playerTurn=!0,e.game.log=null,e.game.playerHit=!1,e.game.opponentHit=!1,e.game.state="battleIntro",e};function wn(e,a,t){var n,r,l,s,c,o,i,m=t?t.playerTurn?"white":t.uicolor.vibrant:null,u=t?t.playerTurn?t.uicolor.vibrant:"white":null,d=a.activePlayer?'<span style="color:'.concat(m,'">').concat(a.activePlayer.name,"</span>"):null,g=a.targetPlayer?'<span style="color:'.concat(u,'">').concat(a.targetPlayer.name,"</span>"):null,h=a.data&&a.data.reflect?'<span class="reflect">Reflected !</span>':"",f=a.data&&a.data.boost?'<span class="boost">Boost !</span>':"";switch(e){case"battleStart":r="Battle starts !",c=p.icons.battleStart;break;case"skip":n="Nothing!",l="Skip!",s="".concat(d," skips turn!"),r="".concat(d," skips turn!"),c=p.icons.skip;break;case"block":n="".concat(d," blocks!"),l='<span class="up">'.concat(a.data.dexBonus,'</span> DEX, <span class="up">').concat(a.data.conBonus,'</span> CON, <span class="up">').concat(a.data.rageBonus,"</span> rage"),s='<span class="down">'.concat(a.data.magMalus,"</span> MAG, ").concat(g,' <span class="up">').concat(a.data.strBonus,"</span> STR"),r="".concat(d," ").concat(l," ").concat(s),c=p.icons.block;break;case"focus":n="".concat(d," focus!"),l='<span class="up">'.concat(a.data.magBonus,"</span> MAG"),s='<span class="down">'.concat(a.data.dexMalus,'</span> DEX and <span class="down">').concat(a.data.strMalus,"</span> STR"),r="".concat(d,' focus! <span class="up">').concat(a.data.magBonus,'</span> MAG, <span class="down">').concat(a.data.dexMalus,'</span> DEX and <span class="down">').concat(a.data.strMalus,"</span> STR."),c=p.icons.focus;break;case"specialattack":r="".concat(d,' rage! <span class="up">').concat(a.data.strBonus,'</span> STR, <span class="up">').concat(a.data.dexBonus,'</span> DEX and <span class="up">').concat(a.data.lckBonus,"</span> LCK."),c=p.icons.specialattack;break;case"specialcast":r="".concat(d,' mana flare! <span class="up">').concat(a.data.magBonus,'</span> MAG and <span class="up">').concat(a.data.lckBonus,"</span> LCK."),c=p.icons.specialcast;break;case"attack":if(o="Miss.",a.data.hit.hit&&(o="Hit!"),a.data.hit.critical&&(o='<span class="critical">Critical hit!</span>'),a.data.hit.fumble&&(o='<span class="fumble">Fumble!</span> '.concat(g," gains LCK bonus.")),a.data.damage&&a.data.damage.elemental>0){var y=a.activePlayer.weapons.STR.element;o+='<span class="elementalDamageLog element_'.concat(y,'">').concat(y," bonus : ").concat(a.data.damage.elemental,"</span>")}i="",a.data.damage&&a.data.damage.damage>0?i='Damage : <span class="physicaldamage">'.concat(a.data.damage.damage,"</span>"):a.data.hit.hit&&(i="But no damage."),n="".concat(d," attacks!"),l="".concat(o," ").concat(h).concat(f," ").concat(i),s="To hit : ".concat(a.data.hit.toHit),r="".concat(d," attacks! To hit : ").concat(a.data.hit.toHit,' <span class="roll">').concat(a.data.hit.roll,"</span>").concat(o," ").concat(h).concat(f," ").concat(i),c=a.activePlayer.weapons&&a.activePlayer.weapons.STR?[a.activePlayer.weapons.STR.type,a.activePlayer.weapons.STR.id]:["drops",18];break;case"cast":if(o="Spell failed.",a.data.hit.hit&&(o="Success!"),a.data.hit.critical&&(o='<span class="critical">Perfect!</span>'),a.data.hit.fumble&&(o='<span class="fumble">Total failure!</span> '.concat(g," gains LCK bonus.")),a.data.damage&&a.data.damage.elemental>0){var b=a.activePlayer.weapons.MAG.element;o+='<span class="elementalDamageLog element_'.concat(b,'">').concat(b," bonus : ").concat(a.data.damage.elemental,"</span>")}i="",a.data.damage&&a.data.damage.damage>0?i='Damage : <span class="magicaldamage">'.concat(a.data.damage.damage,"</span>"):a.data.hit.hit&&(i="But no damage."),n="".concat(d," casts a spell!"),l="".concat(o," ").concat(h).concat(f,"<br />").concat(i),s="To hit : ".concat(a.data.hit.toHit),r="".concat(d," casts a spell! To hit : ").concat(a.data.hit.toHit,' <span class="roll">').concat(a.data.hit.roll,"</span>").concat(o," ").concat(h).concat(f," ").concat(i),c=a.activePlayer.weapons&&a.activePlayer.weapons.MAG?[a.activePlayer.weapons.MAG.type,a.activePlayer.weapons.MAG.id]:["drops",18];break;case"psyblast":"success"===a.data.hit&&(o="Success!",i="".concat(g,' <span class="down">').concat(a.data.magMalus,"</span> MAG for 2 turns.")),"critical"===a.data.hit&&(o='<span class="critical">Mind blasted!</span>',i="".concat(g,' <span class="down">').concat(a.data.magMalus,"</span> MAG for 2 turns.")),"fumble"===a.data.hit&&(o='<span class="fumble">Backfire!</span>',i="".concat(d,' <span class="down">').concat(a.data.magMalus,"</span> MAG for 2 turns.")),n="".concat(d," uses psychic blast!"),l="".concat(o),s=i,r="".concat(d," uses psychic blast! ").concat(o," ").concat(i),c=p.icons.psyblast;break;case"stun":"success"===a.data.hit&&(o="BAM!",i="".concat(g," is stunned, skip ").concat(a.data.rounds,' turn and <span class="down">').concat(a.data.dexMalus,"</span> DEX for 3 turns.")),"critical"===a.data.hit&&(o='<span class="critical">Head shot!</span>',i="".concat(g," is knocked out, skip ").concat(a.data.rounds,' turns and <span class="down">').concat(a.data.dexMalus,"</span> DEX for 4 turns.")),"fumble"===a.data.hit&&(o='<span class="fumble">Missed!</span>',i="".concat(d,' slips! <span class="down">').concat(a.data.dexMalus,'</span> DEX and <span class="down">').concat(a.data.strMalus,"</span>.")),n="".concat(d," tries a stunning blast!"),l="".concat(o),s=i,r="".concat(n," ").concat(o," ").concat(i),c=p.icons.stun;break;case"itembreak":"fumble"===a.data.hit?(o='<span class="fumble">Missed!</span>',i="".concat(d,' slips! <span class="down">').concat(a.data.dexMalus,"</span> DEX. ").concat(g," gains LCK bonus.")):(o="Item broken!",i="".concat(g," loses an item.")),n="".concat(d," tries to break enemy's item!"),l="".concat(o),s=i,r="".concat(n," ").concat(o," ").concat(i),c=p.icons.itembreak;break;case"heal":"fumble"===a.data.hit?(o='<span class="fumble">Oh no!</span>',i='It\'s empty! <span class="up">'.concat(a.data.fumbleMalus,"</span> fumble rate for 2 turns.")):(o="".concat(a.data.healCapacity," health recovery!"),i="".concat(d," recovers ").concat(a.data.healValue," HP.")),n="".concat(d," uses a potion!"),l="".concat(o),s=i,r="".concat(n," ").concat(o," ").concat(i),c=p.icons.heal;break;case"quickheal":o="".concat(a.data.healValue," health recovery!"),i="".concat(d,"&nbsp;recovers&nbsp;").concat(a.data.healValue," HP."),n="".concat(d," uses healing item!"),l="".concat(o),s=i,r="".concat(n," ").concat(o," ").concat(i),c=a.data.icon;break;case"upgrade":o="".concat(a.data.buffChar," boost!"),i='<span class="up">'.concat(a.data.buffValue,"</span> ").concat(a.data.buffChar),n="".concat(d," uses boost item!"),l=i,s="".concat(a.data.buffType," boost"),r="".concat(n," ").concat(i," (").concat(s,")"),c=a.data.icon;break;case"restore":o="Energy restore!",i="Fully restored!",n="".concat(d," restores energy!"),l=i,s="Stamina, mana and skills energy restored.",r="".concat(n," ").concat(s),c=a.data.icon;break;case"damage":o="Weapon throw!",i="".concat(a.data.damage," damage!"),n="".concat(d," throws weapon!"),l=i,s="",r="".concat(n," ").concat(i),c=a.data.icon;break;case"sharpen":"fumble"===a.data.hit?(o="This did not work",i="No effect.",s="Weapon has not changed."):(o="Weapon enhanced!",i='<span class="up">1D</span> damage!',a.data.element&&(s='New elemental bonus <span class="elementWrapper '.concat(a.data.element,'" /> '))),n="".concat(d," sharpens a weapon!"),l=i,r="".concat(n," ").concat(i," ").concat(s),c=a.data.icon;break;case"curse":"success"===a.data.hit&&(o="Curse!",i="".concat(g,' <span class="up">').concat(a.data.fumbleMalus,"</span> fumble rate for 2 turns.")),"critical"===a.data.hit&&(o='<span class="critical">Evil curse!</span>',i="".concat(g,' <span class="up">').concat(a.data.fumbleMalus,"</span> fumble rate for 2 turns.")),"fumble"===a.data.hit&&(o='<span class="fumble">Bad luck!</span>',i="".concat(d,' <span class="up">').concat(a.data.fumbleMalus,"</span> fumble rate for 1 turn.")),n="".concat(d," uses evil eye!"),l="".concat(o),s=i,r="".concat(d," uses evil eye! ").concat(o," ").concat(i),c=p.icons.curse;break;case"reflect":"miss"===a.data.reflect?(o='<span class="fumble">Missed!</span>',i="Spell has no effect !"):"success"===a.data.reflect?(o="Success!",i="".concat(g,"'s next attack will be reflected!")):(o="Disaster!",i="".concat(g,"'s next attack will amplified!")),n="".concat(d," uses reflect spell!"),l="".concat(o),s=i,r="".concat(n," ").concat(o," ").concat(i),c=p.icons.reflect}return{type:e,title:n,message:l,note:s,log:r,icon:c}}var Tn=function(e){return e.log={},e.dataLogs=[],e.dataLogs.push(wn("battleStart",e.log,e.game)),e.game.state="battle",e=Ee(e,"battles/total","game"),e=function(e,a,t,n){switch(t){case"run":e=be(e,"alltime",a,n),e=be(e,"game",a,n),e=be(e,"run",a,n);break;case"game":e=be(e,"alltime",a,n),e=be(e,"game",a,n);break;case"alltime":e=be(e,"alltime",a,n);break;case"onlyrun":e=be(e,"run",a,n)}return e}(e=Ee(e,"opponents/".concat(e.opponent.job,"/total"),"alltime"),"history","onlyrun",[e.opponent.job,e.opponent.name,e.opponent.elite])},On=function(e){return e.player.gold+=e.opponent.reward,e.player.xp+=e.opponent.xp,e=Ee(e,"shop/gold/won","alltime",e.opponent.reward),e=Ee(e,"battles/victories","game"),(e=Ee(e,"opponents/".concat(e.opponent.job,"/victories"),"alltime")).game.level===p.maxLevel?e.game.state="endgame":e.game.state="victory",e},Gn=function(e){return e.game.state="defeat",e=Ee(e,"battles/defeats","game"),e=Ee(e,"opponents/".concat(e.opponent.job,"/defeats"),"alltime")},Cn=function(e){return e.game.state="permadeath",e=Ee(e,"permadeath","alltime")},Rn=function(e){return e.game.state="hallOfFame",e},jn=function(e){return e.game=d.game,e.player={},e.opponent={},e.log={},e.dataLogs={},e.score.run={},e.score.game={},e.game.previousState="permadeath",e.game.state="hallOfFame",e},Ln=function(e){e.game.state="nextLoop",e.game.loop?e.game.loop=e.game.loop+1:e.game.loop=1,e.opponent={},e.log={},e.dataLogs={},e.score.run={},e.game.level=0,e.game.pastOpponents=[];var a=e.monsterTiers,t=e.monsters;return e.game.opponentMap=Nn(t,a,!0),e=Ee(e,"loops","alltime")},xn=function(e){return e.game.state="shop",e},Pn=function(e){return e.log={},e},Dn=function(e,a,t){var n;return"attack"===e&&(n=a.physicalRage+t>a.maxPhysicalRage?a.maxPhysicalRage:a.physicalRage+t),"cast"===e&&(n=a.magicalRage+t>a.maxMagicalRage?a.maxMagicalRage:a.magicalRage+t),n},In=function(e,a){return"physical"===e&&(a.physicalRage=0),"magical"===e&&(a.magicalRage=0),a},Xn=t(121),Wn=t.n(Xn),Bn=function(e,a,t){var n,r=Vn(e),l=Yn(e);if("physical"===t){var s=te(e,"DEX"),c=te(a,"DEX");n=20-(10+s.total-c.total)}if("magical"===t){var o=te(e,"MAG"),i=te(a,"MAG");n=20-(10+o.total-i.total)}return n>r&&(n=r),n<l&&(n=l),n},_n=function(e){return 5*(20-e)},Fn=function(e,a){var t=R(20),n=t>=Bn(e,a,"magical"),r=t>=Vn(e),l=t<=Yn(e);return l&&(n=!1),{roll:t,toHit:Bn(e,a,"magical"),hit:n,critical:r,fumble:l}},Un=function(e,a,t,n){var r=e.weapons[t].element,l=a.element;return!(!r||!l)&&(!!function(e,a){var t;if("fire"===e)"fire"===a&&(t=!1),"water"===a&&(t=!1),"earth"===a&&(t=!0);else if("water"===e)"fire"===a&&(t=!0),"water"===a&&(t=!1),"earth"===a&&(t=!1);else if("earth"===e)"fire"===a&&(t=!1),"water"===a&&(t=!0),"earth"===a&&(t=!1);else if("light"===e)t="darkness"===a;else if("darkness"===e){t=1===j([1,2,3])}return t}(r,l)&&Math.round(50*n/100))},Vn=function(e){return 20-te(e,"LCK").total},Yn=function(e){return te(e,"fumble").total},Hn=function(e,a,t){var n=te(e,"STR"),r=te(a,"CON"),l=!!e.weapons.STR&&e.weapons.STR.score,s=0,c=0,o=0,i=n.total-r.total;if(i<0&&(i=0),l){var m=Wn.a.eval(l);c=m.render(),s=m.value,o=Un(e,a,"STR",i+s)}var u=t?n.total+r.total:0,p=i+s+u+o;return p<0&&(p=0),{roll:c,base:i,item:s,critical:u,elemental:o,damage:p}},Kn=function(e,a,t){var n=te(e,"MAG"),r=te(a,"MAG"),l=!!e.weapons.MAG&&e.weapons.MAG.score,s=0,c=0,o=0,i=n.total-r.total;if(i<0&&(i=0),l){var m=Wn.a.eval(l);c=m.render(),s=m.value,o=Un(e,a,"MAG",i+s)}var u=t?n.total+r.total:0,p=i+s+u+o;return p<0&&(p=0),{roll:c,base:i,item:s,critical:u,elemental:o,damage:p}},Zn=function(e,a){return a.game.playerHit=e.player.hitPoints>a.player.hitPoints,a.game.opponentHit=e.opponent.hitPoints>a.opponent.hitPoints,a},zn=function(e){var a,t=L(0,7);return e?{result:(a=[e[0],e[1],e[2],"fumble",e[3],e[4],e[5],"fumble"])[t],positions:a,position:t}:{result:(a=["success","critical","success","fumble","success","fumble","success","critical"])[t],positions:a,position:j({success:[0,2,4,6],critical:[1,7],fumble:[3,5]}[a[t]])}},qn=function(e){var a,t,n,r=e,l=r.player,s=r.opponent,c=r.game,i=c.playerTurn?Object(o.a)({},l):Object(o.a)({},s),m=c.playerTurn?Object(o.a)({},s):Object(o.a)({},l),u=function(e,a){var t=R(20),n=t>=Bn(e,a,"physical"),r=t>=Vn(e),l=t<=Yn(e);return l&&(n=!1),{roll:t,toHit:Bn(e,a,"physical"),hit:n,critical:r,fumble:l}}(i,m),p=i.weapons.STR?i.weapons.STR.cost:0;i=me(i,p,"physical");var d=ne(i,"temporary","reflect")>0,g=ne(i,"temporary","boost")>0;d&&(n="reflectEffect"),g&&(n="boostEffect"),u.hit&&u.critical?(a=Hn(i,m,!0),t=Dn("attack",m,a.damage),g&&(a.damage=Math.round(1.5*a.damage)),d?(i.hitPoints-=a.damage,i.hitPoints<0&&(i.hitPoints=0)):(m.hitPoints-=a.damage,m.hitPoints<0&&(m.hitPoints=0),m.physicalRage=t),e=ve(e,"action/attack/critical","game"),e=ve(e,"action/attack/damage","game",a.damage),e=ve(e,"damage","game",a.damage)):u.hit&&!u.critical?(a=Hn(i,m,!1),t=Dn("attack",m,a.damage),g&&(a.damage=Math.round(1.5*a.damage)),d?(i.hitPoints-=a.damage,i.hitPoints<0&&(i.hitPoints=0)):(m.hitPoints-=a.damage,m.hitPoints<0&&(m.hitPoints=0),m.physicalRage=t),e=ve(e,"action/attack/hit","game"),e=ve(e,"action/attack/damage","game",a.damage),e=ve(e,"damage","game",a.damage)):!u.hit&&u.fumble?(re(m,"temporary","LCK",1,"attackfumble",5),i.physicalRage=0,e=ve(e,"action/attack/fumble","game")):u.hit||u.fumble||(e=ve(e,"action/attack/miss","game")),e=ve(e,"action/attack/total","game");var h={type:"attack",activePlayer:i,targetPlayer:m,data:{hit:u,critical:!1,reflect:d,boost:g,displayEffect:n,damage:a}};return h.display=wn("attack",h,c),e.player=c.playerTurn?i:m,e.opponent=c.playerTurn?m:i,e.log=h,e.dataLogs.push(wn("attack",h,c)),e},Qn=function(e){var a=e,t=a.player,n=a.opponent,r=a.game,l=r.playerTurn?Object(o.a)({},t):Object(o.a)({},n),s=r.playerTurn?Object(o.a)({},n):Object(o.a)({},t),c=te(l,"DEX"),i=te(l,"CON"),m=te(l,"MAG"),u=te(s,"STR"),p=Math.ceil(c.total/2),d=i.total,g=-Math.ceil(m.total/2),h=Math.ceil(u.total/2);re(l,"temporary","DEX",p,"block"),re(l,"temporary","CON",d,"block"),re(l,"temporary","MAG",g,"block"),re(s,"temporary","STR",h,"defending");var f=(l=ue(l,l.CON,"stamina")).CON,y=Dn("attack",l,f);l.physicalRage=y,e=ve(e,"action/block/total","game");var b={type:"block",delay:"immediate",activePlayer:l,targetPlayer:s,data:{dexBonus:p,conBonus:d,magMalus:g,strBonus:h,rageBonus:f}};return b.display=wn("block",b,r),e.player=r.playerTurn?l:s,e.opponent=r.playerTurn?s:l,e.log=b,e.dataLogs.push(wn("block",b,r)),e},Jn=function(e){var a=e,t=a.player,n=a.opponent,r=a.game,l=r.playerTurn?Object(o.a)({},t):Object(o.a)({},n),s=te(l,"DEX"),c=te(l,"STR"),i=te(l,"LCK"),m=c.natural,u=s.natural,p=i.natural;re(l,"temporary","STR",m,"specialattack"),re(l,"temporary","DEX",u,"specialattack"),re(l,"temporary","LCK",p,"specialattack"),l=In("physical",l),e.player=l;var d={type:"specialattack",activePlayer:l,data:{strBonus:m,dexBonus:u,lckBonus:p}};return(e=ve(e,"action/specialattack/total","game")).dataLogs.push(wn("specialattack",d,r)),qn(e)},$n=function(e){var a,t,n,r,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e,c=s.player,i=s.opponent,m=s.game,u=m.playerTurn?Object(o.a)({},c):Object(o.a)({},i),p=m.playerTurn?Object(o.a)({},i):Object(o.a)({},c),d=Fn(u,p),g=u.weapons.MAG?u.weapons.MAG.cost:0;t=Dn("cast",u,g),u.magicalRage=t,u=me(u,g,"magical");var h=ne(u,"temporary","reflect")>0,f=ne(u,"temporary","boost")>0;h&&(r="reflectEffect"),f&&(r="boostEffect"),d.hit&&d.critical?(a=Kn(u,p,!0),f&&(a.damage=Math.round(1.5*a.damage)),h?(u.hitPoints-=a.damage,u.hitPoints<0&&(u.hitPoints=0)):(p.hitPoints-=a.damage,p.hitPoints<0&&(p.hitPoints=0),n=Dn("attack",p,a.damage),p.physicalRage=n),e=ve(e,"action/cast/critical","game"),e=ve(e,"action/cast/damage","game",a.damage),e=ve(e,"damage","game",a.damage)):d.hit&&!d.critical?(a=Kn(u,p,!1),f&&(a.damage=Math.round(1.5*a.damage)),h?(u.hitPoints-=a.damage,u.hitPoints<0&&(u.hitPoints=0)):(p.hitPoints-=a.damage,p.hitPoints<0&&(p.hitPoints=0),n=Dn("attack",p,a.damage),p.physicalRage=n),e=ve(e,"action/cast/hit","game"),e=ve(e,"action/cast/damage","game",a.damage),e=ve(e,"damage","game",a.damage)):!d.hit&&d.fumble?(re(p,"temporary","LCK",1,"castfumble",5),u.magicalRage=0,e=ve(e,"action/cast/fumble","game")):d.hit||d.fumble||(e=ve(e,"action/cast/miss","game")),l&&(u.magicalRage=0),e=ve(e,"action/cast/total","game");var y={type:"cast",activePlayer:u,targetPlayer:p,data:{hit:d,reflect:h,boost:f,displayEffect:r,damage:a}};return y.display=wn("cast",y,m),e.player=m.playerTurn?u:p,e.opponent=m.playerTurn?p:u,e.log=y,e.dataLogs.push(wn("cast",y,m)),e},er=function(e){var a=e,t=a.player,n=a.opponent,r=a.game,l=r.playerTurn?Object(o.a)({},t):Object(o.a)({},n),s=r.playerTurn?Object(o.a)({},n):Object(o.a)({},t),c=te(l,"MAG"),i=te(l,"DEX"),m=te(s,"STR"),u=Math.ceil(c.total),p=-Math.abs(Math.ceil(i.total/2)),d=-Math.abs(Math.ceil(m.total/2));re(l,"temporary","DEX",p,"focus",2),re(l,"temporary","STR",d,"focus",2),re(l,"temporary","MAG",u,"focus",2),e=ve(e,"action/focus/total","game");var g={type:"focus",delay:"immediate",activePlayer:l,targetPlayer:s,data:{dexMalus:p,strMalus:d,magBonus:u}};return g.display=wn("focus",g,r),e.player=r.playerTurn?l:s,e.opponent=r.playerTurn?s:l,e.log=g,e.dataLogs.push(wn("focus",g,r)),e},ar=function(e){var a=e,t=a.player,n=a.opponent,r=a.game,l=r.playerTurn?Object(o.a)({},t):Object(o.a)({},n),s=te(l,"MAG"),c=te(l,"LCK"),i=s.natural,m=c.natural;re(l,"temporary","MAG",i,"specialcast"),re(l,"temporary","LCK",m,"specialcast"),l=In("magical",l),e.player=l;var u={type:"specialcast",activePlayer:l,data:{magBonus:i,lckBonus:m}};return(e=ve(e,"action/specialcast/total","game")).dataLogs.push(wn("specialcast",u,r)),$n(e,!0)},tr=function(e){var a=e.player,t=e.opponent,n=e.game,r=n.playerTurn?Object(o.a)({},a):Object(o.a)({},t),l=n.playerTurn?Object(o.a)({},t):Object(o.a)({},a),s={type:"skip",delay:"immediate",activePlayer:r,targetPlayer:l,data:{}};return s.display=wn("skip",s,n),e.player=n.playerTurn?r:l,e.opponent=n.playerTurn?l:r,e.log=s,e.dataLogs.push(wn("skip",s,n)),e},nr=function(e){var a,t,n,r=e,l=r.player,s=r.opponent,c=r.game,i=c.playerTurn?Object(o.a)({},l):Object(o.a)({},s),m=c.playerTurn?Object(o.a)({},s):Object(o.a)({},l),u=zn(),p=te(i,"DEX"),d=te(i,"STR"),g=te(m,"DEX");switch(u.result){case"success":a=-Math.abs(Math.ceil(g.total/2)),re(m,"temporary","STUN",n=2,"stun",4),re(m,"temporary","DEX",a,"stun",6),e=ve(e,"action/stun/success","game");break;case"critical":a=-Math.abs(g.total),re(m,"temporary","STUN",n=3,"stun",6),re(m,"temporary","DEX",a,"stun",8),e=ve(e,"action/stun/critical","game");break;case"fumble":a=-Math.abs(Math.ceil(p.total/2)),t=-Math.abs(Math.ceil(d.total/2)),re(i,"temporary","DEX",a,"stun",2),re(i,"temporary","STR",t,"stun",2),e=ve(e,"action/stun/fumble","game")}i.skills.stun.current=0,e=ve(e,"action/stun/total","game");var h={type:"stun",delay:"long",activePlayer:i,targetPlayer:m,data:{hit:u.result,wheelPosition:u.position,dexMalus:a,strMalus:t,rounds:n}};return h.display=wn("stun",h,c),e.player=c.playerTurn?i:m,e.opponent=c.playerTurn?m:i,e.log=h,e.dataLogs.push(wn("stun",h,c)),e},rr=function(e){for(var a=e,t=a.player,n=a.opponent,r=a.game,l=r.playerTurn?Object(o.a)({},t):Object(o.a)({},n),s=r.playerTurn?Object(o.a)({},n):Object(o.a)({},t),c=[],i=0,m=Object.entries(n.items);i<m.length;i++){var p=Object(u.a)(m[i],2),d=p[0],g=p[1];c.push({category:"items",char:d,item:g})}for(var h=0,f=Object.entries(n.weapons);h<f.length;h++){var y=Object(u.a)(f[h],2),b=y[0],v=y[1];c.push({category:"weapons",char:b,item:v})}c=c.map((function(e){return{sort:Math.random(),value:e}})).sort((function(e,a){return e.sort-a.sort})).map((function(e){return e.value}));for(var E=[],k=0,N=0;N<20&&(c[k]?(E.push(c[k]),k++):k=0,6!==E.length);N++);var A,M=zn(E);switch(M.result){case"fumble":var S=te(l,"DEX");A=-Math.abs(Math.ceil(S.total/2)),re(l,"temporary","DEX",A,"stun",2),re(s,"temporary","LCK",3,"attackfumble",5),e=ve(e,"action/itembreak/fumble","game");break;default:delete s[M.result.category][M.result.char],e=ve(e,"action/itembreak/success","game")}l.skills.itembreak.current=0,e=ve(e,"action/itembreak/total","game");var w={type:"itembreak",delay:"long",activePlayer:l,targetPlayer:s,data:{hit:M.result,wheelPositions:M.positions,wheelPosition:M.position,dexMalus:A}};return w.display=wn("itembreak",w,r),e.player=r.playerTurn?l:s,e.opponent=r.playerTurn?s:l,e.log=w,e.dataLogs.push(wn("itembreak",w,r)),e},lr=function(e){var a,t=e,n=t.player,r=t.opponent,l=t.game,s=l.playerTurn?Object(o.a)({},n):Object(o.a)({},r),c=l.playerTurn?Object(o.a)({},r):Object(o.a)({},n),i=zn(),m=te(s,"MAG"),u=te(c,"MAG");switch(i.result){case"success":a=-Math.abs(Math.ceil(u.total)),re(c,"temporary","MAG",a,"psyblast",4),e=ve(e,"action/psyblast/success","game");break;case"critical":a=-Math.abs(Math.ceil(2*u.total)),re(c,"temporary","MAG",a,"psyblast",4),e=ve(e,"action/psyblast/critical","game");break;case"fumble":a=-Math.abs(Math.ceil(m.total/2)),re(s,"temporary","MAG",a,"psyblast",2),e=ve(e,"action/psyblast/fumble","game")}s.skills.psyblast.current=0,e=ve(e,"action/psyblast/total","game");var p={type:"psyblast",delay:"long",activePlayer:s,targetPlayer:c,data:{hit:i.result,wheelPosition:i.position,magMalus:a}};return p.display=wn("psyblast",p,l),e.player=l.playerTurn?s:c,e.opponent=l.playerTurn?c:s,e.log=p,e.dataLogs.push(wn("psyblast",p,l)),e},sr=function(e){var a,t=e,n=t.player,r=t.opponent,l=t.game,s=l.playerTurn?Object(o.a)({},n):Object(o.a)({},r),c=l.playerTurn?Object(o.a)({},r):Object(o.a)({},n),i=zn();switch(i.result){case"success":a=L(5,7),re(c,"temporary","fumble",a,"curse",4),e=ve(e,"action/curse/success","game");break;case"critical":a=L(7,9),re(c,"temporary","fumble",a,"curse",4),e=ve(e,"action/curse/critical","game");break;case"fumble":a=L(3,5),re(s,"temporary","fumble",a,"curse",2),e=ve(e,"action/curse/fumble","game")}s.skills.curse.current=0,e=ve(e,"action/curse/total","game");var m={type:"curse",delay:"long",activePlayer:s,targetPlayer:c,data:{hit:i.result,wheelPosition:i.position,fumbleMalus:a}};return m.display=wn("curse",m,l),e.player=l.playerTurn?s:c,e.opponent=l.playerTurn?c:s,e.log=m,e.dataLogs.push(wn("curse",m,l)),e},cr=function(e){var a,t,n,r=e,l=r.player,s=r.opponent,c=r.game,i=c.playerTurn?Object(o.a)({},l):Object(o.a)({},s),m=c.playerTurn?Object(o.a)({},s):Object(o.a)({},l),u={small:[10,20],medium:[20,50],large:[50,80]},p=zn([{item:{type:"potion",id:57,healCapacity:"small"}},{item:{type:"potion",id:2,healCapacity:"medium"}},{item:{type:"potion",id:57,healCapacity:"small"}},{item:{type:"potion",id:2,healCapacity:"medium"}},{item:{type:"potion",id:43,healCapacity:"large"}},{item:{type:"potion",id:57,healCapacity:"small"}}]);switch(p.result){case"fumble":a=L(3,5),re(i,"temporary","fumble",a,"curse",4),e=ve(e,"action/heal/fumble","game");break;default:n=p.result.item.healCapacity,t=Math.round(L(u[n][0],u[n][1])*l.maxHitPoints/100),i=ue(i,t,"hitPoints"),e=ve(e,"action/heal/success","game"),e=ve(e,"action/heal/heal","game",t),e=ve(e,"heal","game",t)}i.skills.heal.current=0,e=ve(e,"action/heal/total","game");var d,g={type:"heal",delay:"long",activePlayer:i,targetPlayer:m,data:{hit:p.result,wheelPositions:p.positions,wheelPosition:p.position,fumbleMalus:a,healCapacity:n&&(d=n,d.charAt(0).toUpperCase()+d.slice(1)),healValue:t}};return g.display=wn("heal",g,c),e.player=c.playerTurn?i:m,e.opponent=c.playerTurn?m:i,e.log=g,e.dataLogs.push(wn("heal",g,c)),e},or=function(e,a,t){var n=e,r=n.player,l=n.opponent,s=n.game,c=s.playerTurn?Object(o.a)({},r):Object(o.a)({},l),i=s.playerTurn?Object(o.a)({},l):Object(o.a)({},r),m=a.value;c=ue(c,m,"hitPoints"),c=pe(c,t),e=ve(e,"instant/quickheal/total","game"),e=ve(e,"instant/quickheal/heal","game",m),e=ve(e,"heal","game",m);var u={type:"quickheal",delay:"immediate",activePlayer:c,targetPlayer:i,data:{healValue:m,icon:[a.type,a.id]}};return u.display=wn("quickheal",u,s),e.player=s.playerTurn?c:i,e.opponent=s.playerTurn?i:c,e.log=u,e.dataLogs.push(wn("quickheal",u,s)),e},ir=function(e,a,t){var n=JSON.parse(JSON.stringify(e)),r=n,l=r.player,s=r.opponent,c=r.game,i=c.playerTurn?Object(o.a)({},l):Object(o.a)({},s),m=c.playerTurn?Object(o.a)({},s):Object(o.a)({},l),u=a.value,p=a.char,d=a.permancence;re(i,d,p,u,"instant",10),i=pe(i,t),n=ve(n,"instant/upgrade/".concat(d),"game");var g={type:"upgrade",delay:"immediate",activePlayer:i,targetPlayer:m,data:{buffValue:u,buffChar:p,buffType:d,icon:[a.type,a.id]}};return g.display=wn("upgrade",g,c),n.player=c.playerTurn?i:m,n.opponent=c.playerTurn?m:i,(n=he(e,n,"upgrade",p)).log=g,n.dataLogs.push(wn("upgrade",g,c)),n},mr=function(e,a,t){var n=e,r=n.player,l=n.opponent,s=n.game,c=s.playerTurn?Object(o.a)({},r):Object(o.a)({},l),i=s.playerTurn?Object(o.a)({},l):Object(o.a)({},r);c=ue(c,100,"magicPoints"),c=ue(c,100,"stamina"),c=ue(c,100,"skills"),c=pe(c,t),e=ve(e,"instant/restore/total","game");var m={type:"restore",delay:"immediate",activePlayer:c,targetPlayer:i,data:{icon:[a.type,a.id]}};return m.display=wn("restore",m,s),e.player=s.playerTurn?c:i,e.opponent=s.playerTurn?i:c,e.log=m,e.dataLogs.push(wn("restore",m,s)),e},ur=function(e,a,t){var n=e,r=n.player,l=n.opponent,s=n.game,c=s.playerTurn?Object(o.a)({},r):Object(o.a)({},l),i=s.playerTurn?Object(o.a)({},l):Object(o.a)({},r),m=a.value;i.hitPoints-=m,i.hitPoints<0&&(i.hitPoints=0),i.physicalRage=m,e.game.opponentHit=!0,c=pe(c,t),e=ve(e,"instant/damage/total","game"),e=ve(e,"instant/damage/damage","game",m),e=ve(e,"damage","game",m);var u={type:"damage",delay:"immediate",activePlayer:c,targetPlayer:i,data:{icon:[a.type,a.id],damage:m}};return u.display=wn("damage",u,s),e.player=s.playerTurn?c:i,e.opponent=s.playerTurn?i:c,e.log=u,e.dataLogs.push(wn("damage",u,s)),e},pr=function(e,a,t){for(var n,r=e,l=r.player,s=r.opponent,c=r.game,i=c.playerTurn?Object(o.a)({},l):Object(o.a)({},s),m=c.playerTurn?Object(o.a)({},s):Object(o.a)({},l),u=i.weapons[a.value],p=u.score.split("d"),d=u.sharpen?u.sharpen:0,g=[],h=0;h<6;h++)h<d?g.push("fumble"):g.push({category:"items",item:{type:a.type,id:a.id}});d>5&&(g[5]={category:"items",item:{type:a.type,id:a.id}});var f=zn(g);switch(f.result){case"fumble":e=ve(e,"instant/sharpen/miss","game");break;default:Number.isInteger(parseInt(p[0]))?p[0]++:p[0]=2,u.score=p.join("d"),"unique"!==u.quality?(n=j(v),u.element=n):n=!1,i.weapons[a.value].sharpen=d+1,e=ve(e,"instant/sharpen/success","game")}i.weapons[a.value]=u,i=pe(i,t),e=ve(e,"instant/sharpen/total","game");var y={type:"sharpen",activePlayer:i,targetPlayer:m,data:{hit:f.result,wheelPositions:f.positions,wheelPosition:f.position,icon:[a.type,a.id,u.type,u.id],element:n}};return y.display=wn("sharpen",y,c),e.player=c.playerTurn?i:m,e.opponent=c.playerTurn?m:i,e.log=y,e.dataLogs.push(wn("sharpen",y,c)),e},dr=function(e){var a,t=e,n=t.player,r=t.opponent,l=t.game,s=l.playerTurn?Object(o.a)({},n):Object(o.a)({},r),c=l.playerTurn?Object(o.a)({},r):Object(o.a)({},n),i=zn([{item:{type:"skill",id:14,effect:"reflect"}},{item:{type:"skill",id:14,effect:"reflect"}},{item:{type:"skill",id:14,effect:"reflect"}},{item:{type:"skill",id:14,effect:"reflect"}},{item:{type:"skill",id:14,effect:"reflect"}},{item:{type:"skill",id:16,effect:"boost"}}]);switch(i.result){case"fumble":a="miss",e=ve(e,"action/reflect/miss","game");break;default:"reflect"===i.result.item.effect?(a="success",re(c,"temporary","reflect",1,"reflect"),e=ve(e,"action/reflect/success","game")):(a="boost",re(c,"temporary","boost",1,"boost"),e=ve(e,"action/reflect/fumble","game"))}s.skills.reflect.current=0,e=ve(e,"action/reflect/total","game");var m={type:"reflect",delay:"long",activePlayer:s,targetPlayer:c,data:{hit:i.result,wheelPositions:i.positions,wheelPosition:i.position,reflect:a}};return m.display=wn("reflect",m,l),e.player=l.playerTurn?s:c,e.opponent=l.playerTurn?c:s,e.log=m,e.dataLogs.push(wn("reflect",m,l)),e},gr=function(e){return e.game.state="monstersDemo",e},hr=t(291),fr=t(293),yr=new hr(localStorage,{hash:function(e){return(e=fr.SHA256(e,"passion poney . com")).toString()},encrypt:function(e){return e=(e=fr.AES.encrypt(e,"passion poney . com")).toString()},decrypt:function(e){return e=(e=fr.AES.decrypt(e,"passion poney . com")).toString(fr.enc.Utf8)}}),br=function(e){try{var a=JSON.stringify(e);yr.setItem("state",a)}catch(t){}};var vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0,t=Object(o.a)({},e),n=JSON.parse(JSON.stringify(e)),r=!0;if(n.monsters&&Se[0].version!==n.version&&Se[0].reset&&(a.type="GAMESTATE",a.payload={state:"updateVersion"}),D(a.type,"action"),"SETTINGS"===a.type)switch(a.payload.setting){case"tutorial":D("tutorial","reducer"),n=i(n);break;case"createMonsters":D("createMonsters","reducer"),n=m(n,a.payload.data);break;case"createPlayer":D("createPlayer","reducer"),n=Ae(n,a.payload.style);break;case"resetLevel":D("resetLevel","reducer"),n=Me(n);break;case"resetGame":D("resetGame","reducer"),n=Ge(n);break;case"setVersion":D("setVersion","reducer"),n=Oe(n);break;case"submitScore":D("submitScore","reducer"),n=Ce(n);break;case"setItem":D("setItem","reducer"),n=Re(n,a.payload.type,a.payload.char,a.payload.item);break;case"setGold":D("setGold","reducer"),n=je(n,a.payload.type,a.payload.value);break;case"keepItem":D("keepItem","reducer"),n=Le(n,a.payload.type,a.payload.char,a.payload.item);break;case"moveItem":D("moveItem","reducer"),n=Be(n,a.payload.type,a.payload.char,a.payload.item);break;case"buyItem":D("buyItem","reducer"),n=xe(n,a.payload.type,a.payload.char,a.payload.item);break;case"buyInstant":D("buyInstant","reducer"),n=Pe(n,a.payload.item);break;case"sellItem":D("sellItem","reducer"),n=De(n,a.payload.type,a.payload.char,a.payload.item);break;case"sellInstant":D("sellInstant","reducer"),n=Ie(n,a.payload.index,a.payload.item);break;case"deleteLegacy":D("deleteLegacy","reducer"),n=Xe(n);break;case"forgeUniques":D("forgeUniques","reducer"),n=We(n);break;case"setUIColor":D("setUIColor","reducer"),n=_e(n,a.payload.color);break;case"preference":D("preference","reducer"),n=Fe(n,a.payload.type,a.payload.value)}if("GAMESTATE"===a.type)switch(n.game.previousState=n.game.state,a.payload.state){case"welcome":D("welcome","reducer"),n=Ue(n);break;case"welcome_keepQuitState":D("welcome_keepQuitState","reducer"),n=Ve(n);break;case"quit":D("quit","reducer"),n=Ye(n);break;case"gameCreate":D("gameCreate","reducer"),n=An(n);break;case"levelTransition":D("levelTransition","reducer"),n=Mn(n);break;case"battleIntro":D("battleIntro","reducer"),n=Sn(n);break;case"playerTurn":D("playerTurn","reducer"),n=Pn(n);break;case"battle":D("battle","reducer"),n=Tn(n);break;case"victory":D("victory","reducer"),n=On(n);break;case"defeat":D("defeat","reducer"),n=Gn(n);break;case"permadeath":D("permadeath","reducer"),n=Cn(n);break;case"hallOfFame":D("hallOfFame","reducer"),n=Rn(n);break;case"resetThenHallOfFame":D("resetThenHallOfFame","reducer"),n=jn(n);break;case"nextLoop":D("nextLoop","reducer"),n=Ln(n);break;case"shop":D("shop","reducer"),n=xn(n);break;case"updateVersion":D("updateVersion","reducer"),n=we(n);break;case"releaseNotes":D("releaseNotes","reducer"),n=Te(n);break;case"monstersDemo":D("monstersDemo","reducer"),n=gr(n);break;case"jumptoendgame":n.game.state="endgame"}if("ATTACK"===a.type){if(n=ve(n,"round","run"),"skip"===a.payload.type&&(D("skip","reducer"),n=tr(n)),"physical"===a.payload.type)switch(a.payload.mode){case"attack":D("attack","reducer"),n=qn(n);break;case"defend":D("defend","reducer"),n=Qn(n);break;case"special":D("special","reducer"),n=Jn(n)}if("magical"===a.payload.type)switch(a.payload.mode){case"attack":D("attack","reducer"),n=$n(n);break;case"defend":D("defend","reducer"),n=er(n);break;case"special":D("special","reducer"),n=ar(n)}if("skill"===a.payload.type)switch(a.payload.mode){case"stun":D("stun","reducer"),n=nr(n);break;case"itembreak":D("itembreak","reducer"),n=rr(n);break;case"psyblast":D("psyblast","reducer"),n=lr(n);break;case"curse":D("curse","reducer"),n=sr(n);break;case"heal":D("heal","reducer"),n=cr(n);break;case"reflect":D("reflect","reducer"),n=dr(n);break;case"quickheal":D("quickheal","reducer"),r=!1,n=or(n,a.payload.item,a.payload.id);break;case"upgrade":D("upgrade","reducer"),r=!1,n=ir(n,a.payload.item,a.payload.id);break;case"restore":D("restore","reducer"),r=!1,n=mr(n,a.payload.item,a.payload.id);break;case"damage":D("damage","reducer"),r=!1,n=ur(n,a.payload.item,a.payload.id);break;case"sharpen":D("sharpen","reducer"),r=!1,n=pr(n,a.payload.item,a.payload.id)}r?(n=ie(n,"magical"),n=ie(n,"physical"),n=le(n),n=ce(n),(n=Zn(t,n)).game.playerTurn=!n.game.playerTurn,n.game.skipTurn=!1):(n.game.playerTurn=!0,n.game.skipTurn=!0)}return n=oe(n),br(n),n},Er=function(){try{var e=yr.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return}}(),kr=Object(c.b)(vr,Er,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Nr=t(3),Ar=t(4),Mr=t(6),Sr=t(5),wr=t(7),Tr=t(537),Or=t(538),Gr=t(257),Cr=t.n(Gr);function Rr(e){return{type:"SETTINGS",payload:e}}function jr(e){return{type:"GAMESTATE",payload:e}}function Lr(e){return{type:"ATTACK",payload:e}}var xr=t(258),Pr=t.n(xr),Dr=t(259),Ir=t.n(Dr),Xr=t(260),Wr=t.n(Xr),Br=t(60),_r=t.n(Br),Fr=t(539);var Ur=Object(s.b)((function(e){return{}}),(function(e){return{}}))((function(){return r.a.createElement("div",{className:"credits"},r.a.createElement("p",null,"A game about killing monsters",r.a.createElement("br",null),"and killing phone batteries."),r.a.createElement("div",{className:"separator"}),r.a.createElement("div",{className:"title"},"Game dev & design"),r.a.createElement("p",null,"Ultimate Manatee Studio",r.a.createElement("br",null),r.a.createElement("span",{className:"smallText"},"ultimatemanatee@gmail.com",r.a.createElement("br",null),r.a.createElement("a",{href:"https://discord.gg/C46VEGx"},"Discord"))),r.a.createElement("div",{className:"title"},"Monsters design"),r.a.createElement("p",null,r.a.createElement("a",{href:"http://www.akashics.moe/",target:"_blank"},"\xc6kashics Librarium")),r.a.createElement("div",{className:"title"},"Pixel art assets"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.deviantart.com/7soul1",target:"_blank"},"7 Soul")," / ",r.a.createElement("a",{href:"https://www.saschanaderer.com/pixel-art/",target:"_blank"},"Pixeltier")),r.a.createElement("div",{className:"separator"}),r.a.createElement("p",null,"Thank you for playing!"))}));var Vr=Object(s.b)((function(e){return{}}),(function(e){return{}}))((function(){return r.a.createElement("div",{key:"modalSettings"},"Settings")}));var Yr=Object(s.b)((function(e){return{}}),(function(e){return{settings:function(a){return e(Rr(a))}}}))((function(e){var a=e.settings;return r.a.createElement("div",{className:"credits"},r.a.createElement("div",{className:"title margin-none"},"Reset the game"),r.a.createElement("p",null,"Your run history, gold and items will be erased : are you sure ?"),r.a.createElement("button",{className:"navigation",onClick:function(){return a({setting:"resetGame"})}},"Yes! Start a new game"))})),Hr=t(79),Kr=t.n(Hr),Zr=function(e){var a=e.item,t=e.level,n=["item",a+"_"+t,e.small?"small":"",e.big?"big":""].filter((function(e){return e})).join(" ");return a&&"number"===typeof t?r.a.createElement("span",{className:n}):null};Zr.defaultProps={small:!1,big:!1};var zr=Zr,qr=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).itemDeleted=function(){t.rollDelay=setTimeout((function(){t.setState({itemState:"deleted"})}),p.itemStateDelay)},t.state={},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.animations&&e.item&&!this.props.item&&this.itemDeleted()}},{key:"render",value:function(){var e,a=this.props,t=a.player,n=a.item,l=a.effect,s=a.noPlus,c=a.shop,o=a.animateNumber,i=a.displayChar,m=this.state.itemState,u=n&&n.cost||s?"":"+";n&&n.char&&"STR"===n.char&&(e="physical"),n&&n.char&&"MAG"===n.char&&(e="magical");var p,d="item_wrapper",g=n&&n.element?"glow_"+n.element:"",h=m?"animation-"+m:"",f=[d,n&&n.quality?n.quality:"",g,l?"animation-"+l:"",h].filter((function(e){return e})).join(" "),y=[d,h].filter((function(e){return e})).join(" "),b=[];if(n&&n.sharpen)for(var v=0;v<n.sharpen;v++)b.push(r.a.createElement("div",{key:"markWrapper_".concat(v),className:"markWrapper"},r.a.createElement("div",{className:"mark"})));if(n&&n.type&&"number"===typeof n.id&&(p=n.score),n&&n.sharpen){var E=p.split("d");p=r.a.createElement("span",{dangerouslySetInnerHTML:{__html:'<span class="legacyColor">'.concat(E[0],"</span>d").concat(E[1])}})}var k="itemAdvantage";return n&&c&&(t[c][n.char]?(p>t[c][n.char].score&&(k="itemAdvantage up"),p<t[c][n.char].score&&(k="itemAdvantage down")):k="itemAdvantage up"),n&&n.type&&"number"===typeof n.id?r.a.createElement("div",{className:f},n.cost&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"itemCost ".concat(e)},n.cost),"none"!==n.element&&r.a.createElement("div",{className:"element ".concat(n.element)})),c&&r.a.createElement("div",{className:k}),r.a.createElement("div",{className:"itemAlteration"},b),n.charges&&r.a.createElement("div",{className:"itemCost charge"},n.charges),r.a.createElement(zr,{item:n.type,level:n.id}),r.a.createElement("span",null,i&&n.char,u,o?r.a.createElement(Kr.a,{formatValue:function(e){return e.toFixed(0)},value:n.score}):p,n.label)):r.a.createElement("div",{className:y})}}]),a}(n.Component),Qr=Object(s.b)((function(e){return{data:e,player:e.player}}))(qr),Jr=function(e){var a,t,n,l=e.connectedData,s=e.type,c=e.opponent,o=e.color,i=e.current,m=e.ready,u=c?l.opponent:l.player;switch(s){case"hitPoints":a=u.hitPoints,t=u.maxHitPoints,n="big";break;case"magicPoints":a=u.magicPoints,t=u.maxMagicPoints,n="small";break;case"stamina":a=u.stamina,t=u.maxStamina,n="small";break;case"physicalRage":a=u.physicalRage,t=u.maxPhysicalRage,n="small";break;case"magicalRage":a=u.magicalRage,t=u.maxMagicalRage,n="small";break;case"xp":a=i,t=m,n="big";break;default:a=i,t=m,n="small"}var p,d=["bar",s,n].filter((function(e){return e})).join(" "),g=o?{background:o,width:100*a/t+"%"}:{width:100*a/t+"%"};if(t<=5){for(var h=[],f=100/t+"%",y=0;y<t;y++)g={background:y<a?o:"none",width:f},h.push(r.a.createElement("div",{key:"barb_block_".concat(y),className:"indicator",style:g}));p=h}else p=r.a.createElement("div",{className:"indicator",style:g});return r.a.createElement("div",{className:d},"big"===n&&r.a.createElement("div",{className:"value"},a,"/",t),p)};Jr.defaultProps={opponent:!1};var $r=Object(s.b)((function(e){return{connectedData:e}}))(Jr);var el=function(e){var a,t,n,l,s,c=e.type,o=e.player,i=e.opponent,m=e.attack,u=o.physicalRage===o.maxPhysicalRage,d=o.magicalRage===o.maxMagicalRage,g=o.magicPoints>=o.weapons.MAG.cost,h=o.stamina>=o.weapons.STR.cost;function f(){}var y=x(_n(Bn(o,i,"physical")),0,100),b=x(_n(Bn(o,i,"magical")),0,100);switch(c){case"block":a=function(){return m({type:"physical",mode:"defend"})},t=r.a.createElement(zr,{item:p.icons.block[0],level:p.icons.block[1]}),n="physical block";break;case"focus":a=function(){return m({type:"magical",mode:"defend"})},t=r.a.createElement(zr,{item:p.icons.focus[0],level:p.icons.focus[1]}),n="magical block";break;case"attack":a=h?function(){return m({type:"physical",mode:"attack"})}:f,t=r.a.createElement(zr,{item:o.weapons.STR.type,level:o.weapons.STR.id}),l=r.a.createElement("span",{className:"note"},y,"%"),s=r.a.createElement($r,{type:"stamina"}),n=h?"physical attack":"physical attack disabled";break;case"specialattack":a=u?function(){return m({type:"physical",mode:"special"})}:f,t=r.a.createElement(zr,{item:p.icons.specialattack[0],level:p.icons.specialattack[1]}),s=r.a.createElement($r,{type:"physicalRage"}),n=u?"physical special":"physical special disabled";break;case"cast":a=g?function(){return m({type:"magical",mode:"attack"})}:f,t=r.a.createElement(zr,{item:o.weapons.MAG.type,level:o.weapons.MAG.id}),l=r.a.createElement("span",{className:"note"},b,"%"),s=r.a.createElement($r,{type:"magicPoints"}),n=g?"magical attack":"magical attack disabled";break;case"specialcast":a=d?function(){return m({type:"magical",mode:"special"})}:f,t=r.a.createElement(zr,{item:p.icons.specialcast[0],level:p.icons.specialcast[1]}),s=r.a.createElement($r,{type:"magicalRage"}),n=d?"magical special":"magical special disabled"}return r.a.createElement("button",{className:n,onClick:a},l,t,s)};el.defaultProps={};var al=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent}}),(function(e){return{attack:function(a){return e(Lr(a))}}}))(el);var tl=function(e){var a,t,n=e.type,l=e.current,s=e.ready,c=(e.player,e.opponent),o=e.attack;function i(){}var m=l===s;switch(t=m?"skill ".concat(n):"skill ".concat(n," disabled"),n){case"stun":a=m?function(){return o({type:"skill",mode:"stun"})}:i;break;case"itembreak":var u=Object.keys(c.items).length>0||Object.keys(c.weapons).length>0;t=m&&u?"skill ".concat(n):"skill ".concat(n," disabled"),a=m&&u?function(){return o({type:"skill",mode:"itembreak"})}:i;break;case"psyblast":a=m?function(){return o({type:"skill",mode:"psyblast"})}:i;break;case"curse":a=m?function(){return o({type:"skill",mode:"curse"})}:i;break;case"heal":a=m?function(){return o({type:"skill",mode:"heal"})}:i;break;case"reflect":a=m?function(){return o({type:"skill",mode:"reflect"})}:i}return r.a.createElement("button",{className:t,onClick:a},void 0,r.a.createElement(zr,{item:p.icons[n][0],level:p.icons[n][1]}),r.a.createElement($r,{current:l,ready:s}))};tl.defaultProps={};var nl=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent}}),(function(e){return{attack:function(a){return e(Lr(a))}}}))(tl),rl=function(e){var a=e.element,t=["elementWrapper",e.big?"big":"",a].filter((function(e){return e})).join(" ");return r.a.createElement("span",{className:t})};rl.defaultProps={};var ll=rl,sl=t(261),cl=t.n(sl),ol=t(262),il=t.n(ol),ml=t(20),ul=t.n(ml);var pl=Object(s.b)((function(e){return{player:e.player}}),(function(e){return{}}))((function(e){for(var a=e.player,t=[],n=0,l=Object.entries(a.skills);n<l.length;n++){var s=Object(u.a)(l[n],2),c=s[0],o=s[1];t.push(r.a.createElement(nl,{type:c,current:o.current,ready:o.ready}))}return r.a.createElement("div",{className:"help",id:"top"},r.a.createElement("p",{className:"title"},"Help"),r.a.createElement("p",null,"Choose a help topic"),r.a.createElement("div",{className:"helpMenu"},r.a.createElement("a",{className:"button",href:"#game"},"The game"),r.a.createElement("a",{className:"button",href:"#stats"},"Stats"),r.a.createElement("a",{className:"button",href:"#levelling"},"Levelling"),r.a.createElement("a",{className:"button",href:"#equipment"},"Equipment"),r.a.createElement("a",{className:"button",href:"#weapons"},"Weapons"),r.a.createElement("a",{className:"button",href:"#hit"},"Hit & damage system"),r.a.createElement("a",{className:"button",href:"#elements"},"Elemental damage"),r.a.createElement("a",{className:"button",href:"#attack"},"Attack"),r.a.createElement("a",{className:"button",href:"#defend"},"Defend"),r.a.createElement("a",{className:"button",href:"#skills"},"Skills"),r.a.createElement("a",{className:"button",href:"#items"},"Items"),r.a.createElement("a",{className:"button",href:"#elite"},"Elite monsters")),r.a.createElement("div",{className:"separator",id:"game"}),r.a.createElement("div",{className:"title"},"The game"),r.a.createElement("p",null,"MHD20 is a turn based battle game, using a D20 system loosely based on the classic Dungeon&Dragons tabletop game"),r.a.createElement("p",null,"Your goal is to fight your way to the final boss, in a minimum number of turns."),r.a.createElement("p",null,"If you die, you can keep your gold and some of your best gear, and retry."),r.a.createElement("div",{className:"separator",id:"stats"}),r.a.createElement("div",{className:"title"},"Stats"),r.a.createElement("p",null,"Your character is described by 5 stats"),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"STR"),r.a.createElement("td",null,r.a.createElement("div",{className:"sectiontitle"},"Strength"),"Basic stat for physical damage")),r.a.createElement("tr",null,r.a.createElement("td",null,"DEX"),r.a.createElement("td",null,r.a.createElement("div",{className:"sectiontitle"},"Dexterity"),"Determine if you will manage to hit your opponent and if your opponent will be able to hit you")),r.a.createElement("tr",null,r.a.createElement("td",null,"CON"),r.a.createElement("td",null,r.a.createElement("div",{className:"sectiontitle"},"Constitution"),"Determines how much physical damage you can absorb, and also used for Hit points count")),r.a.createElement("tr",null,r.a.createElement("td",null,"MAG"),r.a.createElement("td",null,r.a.createElement("div",{className:"sectiontitle"},"Magic"),"Basic stats for magical damage, magical hit and magical resistance")),r.a.createElement("tr",null,r.a.createElement("td",null,"LCK"),r.a.createElement("td",null,r.a.createElement("div",{className:"sectiontitle"},"Luck"),"Each luck points lower the critical hit minimal score, for any attack")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"equipment"}),r.a.createElement("div",{className:"title"},"Equipment"),r.a.createElement("p",null,"You will find new equipment on your opponent's dead body, or in the shop between each fight."),r.a.createElement("p",null,"Equipment quality follows the beloved Diablo scale."),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(Qr,{item:{id:1,quality:"normal",type:"belt",score:1}}),r.a.createElement("span",{className:"color_quality_normal"},"Normal")),r.a.createElement("td",null,"Trivial items with low value and poor quality")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(Qr,{item:{id:1,quality:"magic",type:"armor",score:8}}),r.a.createElement("span",{className:"color_quality_magic"},"Magic")),r.a.createElement("td",null,"Low tier bonus but some of them may be interesting")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(Qr,{item:{id:2,quality:"rare",type:"book",score:16}}),r.a.createElement("span",{className:"color_quality_rare"},"Rare")),r.a.createElement("td",null,"Quality gear with good stats bonus")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(Qr,{item:{id:163,quality:"legendary",type:"helmet",score:25}}),r.a.createElement("span",{className:"color_quality_legenday"},"Legendary")),r.a.createElement("td",null,"Best available loot with high value")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(Qr,{item:{char:"MAG",id:57,quality:"unique",type:"unique",score:35,element:"darkness"}}),r.a.createElement("span",{className:""},"Set items")),r.a.createElement("td",null,"Shops sells super expensive unique items, with bonus increasing as you complete the set")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"weapons"}),r.a.createElement("div",{className:"title"},"Weapons"),r.a.createElement("p",null,"Weapons damage uses the classic xD+x dice RPG system, examples :"),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(Qr,{item:{char:"STR",id:1,quality:"normal",type:"sword",score:"1d6+4",element:"none",cost:5},noPlus:!0})),r.a.createElement("td",null,"This basic sword adds the result of 1 six sided dice + 4 additional points to your STR score. Using this sword costs 5 stamina points.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(Qr,{item:{char:"MAG",id:5,quality:"legendary",type:"sceptre",score:"7d12+10",element:"fire",cost:7,sharpen:2},noPlus:!0})),r.a.createElement("td",null,"This nice magic wand adds the result of 7 D12 + 10 points to your MAG score. It also deals additional fire damage (orange dot), and has already been enchanted twice (2 diamonds). Using the wand costs 7 mana points.")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"hit"}),r.a.createElement("div",{className:"title"},"Hit system"),r.a.createElement("p",null,"Hitting, and dealing damage, simply relies on a D20 roll."),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center color_action_physical"},"Physical hit"),r.a.createElement("td",null,r.a.createElement("div",{className:"rule"},"20 - (10 + your DEX - his DEX)"),"For example if you have 13 DEX, and your opponent has 7 : 20-(10+13-7) = 4. You'll have to roll more than 4 on a D20 to hit : easy.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center color_action_physical"},"Physical damage"),r.a.createElement("td",null,r.a.createElement("div",{className:"rule"},"your STR - his CON"),"Base damage is just STR versus CON. Then we add items damage, critical damage, and elemental damage.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center color_action_magical"},"Magical hit"),r.a.createElement("td",null,r.a.createElement("div",{className:"rule"},"20 - (10 + your MAG - his MAG)"),"For example if you have 6 MAG, and your opponent has 16 : 20-(10+6-13) = 17. You'll have to roll more than 17 on a D20 to hit.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center color_action_magical"},"Magical damage"),r.a.createElement("td",null,r.a.createElement("div",{className:"rule"},"your MAG - his MAG"),"Base damage is simply MAG versus MAG. Then we again add items damage, critical damage, and elemental damage.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("img",{src:cl.a,alt:"fumble"}),"Fumble"),r.a.createElement("td",null,"Rolling a super low value, like a 1, means an automatic failure and most of the time penalties.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("img",{src:il.a,alt:"critical"}),"Critical"),r.a.createElement("td",null,"Rolling a natural 20, or even less if your LCK score is high, means an automatic success and most of the time additional bonus.")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"attack"}),r.a.createElement("div",{className:"title"},"Attack"),r.a.createElement("p",null,"Attacks are the basic moves, and the major way to deal damage."),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},r.a.createElement(al,{type:"attack"}))),r.a.createElement("td",null,"Physical attack, using physical (red) weapon. Each attack uses stamina, when the stamina bar is low, player can't attack. % number is the global chance to hit.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},r.a.createElement(al,{type:"specialattack"}))),r.a.createElement("td",null,"Taking hits and losing HP make the special attack bar grow : when the bar is full player may use a devastating blow.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},r.a.createElement(al,{type:"cast"}))),r.a.createElement("td",null,"Spell cast, using magical (blue) weapon. Each attack uses mana, when the mana bar is low, player can't cast. % number is the global chance to hit.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},r.a.createElement(al,{type:"specialcast"}))),r.a.createElement("td",null,"Casting spells make the master spell cast bar grow : when the bar is full, a powerful spell can be used.")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"defend"}),r.a.createElement("div",{className:"title"},"Defend"),r.a.createElement("p",null,"Two options, when you need to wait a turn or two, or prepare a better attack in your next turn."),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},r.a.createElement(al,{type:"block"}))),r.a.createElement("td",null,"You take a defensive stance, meaning you'll be harder to hit (DEX and CON bonus), stamina also regenerates faster. Your MAG will be impacted a bit, and opponent gets a STR bonus.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},r.a.createElement(al,{type:"focus"}))),r.a.createElement("td",null,"You try to focus on your next magical spell : your MAG improves a great deal, but your STR and DEX are lowered.")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"items"}),r.a.createElement("div",{className:"title"},"Items"),r.a.createElement("p",null,"Items can be purchased in the shop : you can use as much items as you want during your durn, and they'll never fail, but they can be expensive. You can carry up to 6 items."),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"levelling"}),r.a.createElement("div",{className:"title"},"Levelling"),r.a.createElement("p",null,"Winning battles increases your experience level, allowing you to carry more and more of your precious equipement to the next run : you can carry one more item each time you level up!"),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"elements"}),r.a.createElement("div",{className:"title"},"Elements"),r.a.createElement("p",null,"Monsters are all based on an element : ",r.a.createElement("span",{className:"element_fire"},"fire"),", ",r.a.createElement("span",{className:"element_water"},"water"),", ",r.a.createElement("span",{className:"element_earth"},"earth"),", ",r.a.createElement("span",{className:"element_light"},"light")," or ",r.a.createElement("span",{className:"element_darkness"},"darkness"),"."),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center horizontal"},r.a.createElement(ll,{element:"fire"}),r.a.createElement(Qr,{item:{char:"STR",id:1,quality:"normal",type:"sword",score:"1d6+4",element:"fire",cost:5},noPlus:!0})),r.a.createElement("td",null,"Bonus against ",r.a.createElement("span",{className:"element_earth"},"earth")," creatures.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center horizontal"},r.a.createElement(ll,{element:"water"}),r.a.createElement(Qr,{item:{char:"MAG",id:1,quality:"normal",type:"mace",score:"1d6+4",element:"water",cost:5},noPlus:!0})),r.a.createElement("td",null,"Bonus against ",r.a.createElement("span",{className:"element_fire"},"fire")," creatures.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center horizontal"},r.a.createElement(ll,{element:"earth"}),r.a.createElement(Qr,{item:{char:"MAG",id:1,quality:"normal",type:"sceptre",score:"1d6+4",element:"earth",cost:5},noPlus:!0})),r.a.createElement("td",null,"Bonus against ",r.a.createElement("span",{className:"element_water"},"water")," creatures.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center horizontal"},r.a.createElement(ll,{element:"light"}),r.a.createElement(Qr,{item:{char:"STR",id:19,quality:"unique",type:"unique",score:"1d6+4",element:"light",cost:5},noPlus:!0})),r.a.createElement("td",null,"Bonus against ",r.a.createElement("span",{className:"element_darkness"},"darkness")," creatures.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center horizontal"},r.a.createElement(ll,{element:"darkness"}),r.a.createElement(Qr,{item:{char:"MAG",id:12,quality:"unique",type:"unique",score:"1d6+4",element:"darkness",cost:5},noPlus:!0})),r.a.createElement("td",null,"Bonus against everything, but only randomly.")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"elite"}),r.a.createElement("div",{className:"title"},"Elite monsters"),r.a.createElement("p",null,"You have an increasing chance of meeting the tougher, elite version of any monster. They will be harder to beat but will also give better rewards."),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement(ll,{element:"elite"})),r.a.createElement("td",null,"Elite monster marker")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("div",{className:"separator",id:"skills"}),r.a.createElement("div",{className:"title"},"Skills"),r.a.createElement("p",null,"Skills may fail and needs a few turn to recharge, but they're free and may save a desperate battle."),r.a.createElement("table",{className:"help"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},t[0])),r.a.createElement("td",null,"Try to heal and get part of your hit points back. Results may vary from nothing to an almost full heal.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},t[1])),r.a.createElement("td",null,"Use some dirty trick to stun your opponent, making him skip one or more turns.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},t[2])),r.a.createElement("td",null,"Attempt to break an enemy's item : less loot, but less ennemy threat also.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},t[3])),r.a.createElement("td",null,"If this skills succeeds, next damage dealt to player will be applyed to opponent. If the skill fails, next damage may be boosted.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},t[4])),r.a.createElement("td",null,"Attempt to fry opponent's mind, heavily crippling his MAG and making spellcasting opponents useless.")),r.a.createElement("tr",null,r.a.createElement("td",{className:"center"},r.a.createElement("div",{className:"buttons"},t[5])),r.a.createElement("td",null,"Use an ancient curse on opponent, highly rising the fumble limit of his dice rolls for a few turns.")))),r.a.createElement("a",{className:"backToTop",href:"#top"},"Back to menu"),r.a.createElement("img",{className:"death",src:ul.a,alt:"You lose"}))})),dl=t(61),gl=t.n(dl);var hl=Object(s.b)((function(e){return{player:e.player}}),(function(e){return{}}))((function(e){for(var a=e.player,t=[],n=0,l=Object.entries(a.skills);n<l.length;n++){var s=Object(u.a)(l[n],2),c=s[0],o=s[1];t.push(r.a.createElement(nl,{type:c,current:o.current,ready:o.ready}))}return r.a.createElement("div",{className:"help",id:"top"},r.a.createElement("p",{className:"title"},"Welcome to MHD20 !"),r.a.createElement("p",null,"If you feel lost, help and user guide are located in the upper left corner of the app : ",r.a.createElement("br",null),r.a.createElement("img",{className:"helpInline",src:gl.a,alt:"help menu"})),r.a.createElement("p",null,"Have fun!"))})),fl=(t(395),t(80)),yl=t.n(fl);var bl=function(e){switch(e){case"about":return r.a.createElement(Ur,{key:"modalAbout"});case"help":return r.a.createElement(pl,{key:"modalHelp"});case"settings":return r.a.createElement(Vr,{key:"modalSettings"});case"reset":return r.a.createElement(Yr,{key:"modalReset"});case"first":return r.a.createElement(hl,{key:"modalFirst"})}},vl=Object(s.b)((function(e){return{data:e}}),(function(e){return{}}))((function(e){var a=e.content,t=e.close;return e.display?[r.a.createElement(Fr.a,{component:null},r.a.createElement(Or.a,{timeout:300,classNames:"fade",appear:!0,leave:!0},r.a.createElement("div",{key:"modalWrapper",className:"modalWrapper",onClick:t},r.a.createElement("div",{key:"modal",className:"modal",onClick:function(e){e.stopPropagation()}},r.a.createElement("button",{key:"closeModal",id:"closeModal",className:"option",onClick:t},r.a.createElement("img",{src:yl.a,alt:"Close"})),bl(a)))))]:null}));var El=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).openModal=function(e){t.setState({openModal:e})},t.closeModal=function(){t.setState({openModal:!1})},t.newGame=function(){var e=t.props,a=e.setGameState,n=e.settings,r=e.player;D("newGame","function"),n({setting:"createPlayer",style:"warrior"}),n({setting:"preference",type:"playerName",value:r&&r.name?r.name:""}),a({state:"gameCreate"})},t.state={openModal:!1},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,a,t=this,n=this.state.openModal,l=this.props,s=l.setGameState,c=l.game,o=l.player,i=l.score,m=l.currentVersion;c.quitState&&o&&o.name?e=r.a.createElement("button",{className:"navigation",onClick:function(){return s({state:c.quitState})}},"Continue",r.a.createElement("span",null,o.name," - Run #",i.game.runs," - lvl. ",c.level)):(a=i&&i.game&&i.game.runs?r.a.createElement(r.a.Fragment,null,"New run ",r.a.createElement("span",null,o.name," - Run #",i.game.runs+1)):"Start new game",e=r.a.createElement("button",{className:"navigation",onClick:function(){return t.newGame()}},a));return[r.a.createElement(vl,{key:"modalReset",content:"reset",display:"reset"===n,close:this.closeModal}),r.a.createElement("div",{key:"mainWrapper",className:"mainWrapper wideScreen"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea"},r.a.createElement("img",{src:Ir.a,className:"coverArt",alt:"Cover art"}),r.a.createElement("div",{className:"homeSigil"},r.a.createElement("img",{src:Pr.a,alt:"Sigil"})),r.a.createElement("div",{className:"logoWrapper"},r.a.createElement("div",{className:"logoCombine"},r.a.createElement("img",{src:_r.a,className:"logo2",alt:"Logo2"}),r.a.createElement("img",{src:Wr.a,className:"logo",alt:"Logo"})))),r.a.createElement("div",{className:"actionArea"},e,i&&i.game&&i.game.runs&&r.a.createElement("button",{className:"textOnly",onClick:function(){return t.openModal("reset")}},"New game"),r.a.createElement("div",{className:"version"},m," ",Se[0].code," - ",r.a.createElement("button",{className:"textOnly inline",onClick:function(){return s({state:"releaseNotes"})}},"Release notes")))))]}}]),a}(n.Component),kl=Object(s.b)((function(e){return{game:e.game,player:e.player,opponent:e.opponent,playerTurn:e.game.playerTurn,log:e.log,score:e.score,currentVersion:e.version}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(El);var Nl=function(e){function a(){return Object(Nr.a)(this,a),Object(Mr.a)(this,Object(Sr.a)(a).apply(this,arguments))}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.setGameState;setTimeout((function(){e({state:"welcome"})}),1e3)}},{key:"render",value:function(){return[r.a.createElement("div",{key:"mainWrapper",className:"mainWrapper wideScreen"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea"},"Game erased !")))]}}]),a}(n.Component),Al=Object(s.b)((function(e){return{}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Nl);var Ml=function(e){function a(){return Object(Nr.a)(this,a),Object(Mr.a)(this,Object(Sr.a)(a).apply(this,arguments))}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){for(var e=this.props.setGameState,a=[],t=0;t<Se.length;t++){for(var n=Se[t],l=[],s=0;s<n.changes.length;s++){var c=n.changes[s];l.push(r.a.createElement("li",{key:"change_".concat(s),className:"change"},c))}a.push(r.a.createElement("div",{className:"note",key:"note_".concat(t)},r.a.createElement("div",{className:"title"},n.version,' "',n.code,'"'),r.a.createElement("div",{className:"date"},n.date),"run"===n.reset&&r.a.createElement("div",{className:"reset"},"Major changes somewhere : your current run has to be reset. Sorry!"),r.a.createElement("div",{className:"description"},n.note),r.a.createElement("ul",{className:"changesList"},l)))}return[r.a.createElement("div",{key:"mainWrapper",className:"mainWrapper wideScreen"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea releaseNotes"},r.a.createElement("div",{className:"notes"},r.a.createElement("div",{className:"pagetitle"},"Game updates !"),r.a.createElement("div",null,"Release notes"),r.a.createElement("div",{className:"separator"}),a)),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return e({state:"welcome"})}},"Ok !"))))]}}]),a}(n.Component),Sl=Object(s.b)((function(e){return{}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Ml),wl=function(e,a){for(var t=te(a,e),n=t.natural,l=t.temporary,s=t.items,c=n+l,o=function(e,a){for(var t=["permanent","temporary"],n=[],r=0;r<t.length;r++){var l=t[r];if(a.buff&&a.buff[l]&&a.buff[l].length>0){var s=void 0;s="permanent"===l?a.buff[l].filter((function(a){return a.stat===e&&"instant"!==a.origin})):a.buff[l].filter((function(a){return a.stat===e}));for(var c=0;c<s.length;c++)s.length>0&&n.push(s[c])}}return n}(e,a),i=[],m=[],u=[],p=0;p<o.length;p++){var d=o[p],g=d.value>0?"up":"down";"setItems"===d.origin?-1===u.indexOf(d.stat)&&(m.push(r.a.createElement("span",{key:"buff_ui_".concat(p),className:"setBuff"},a.setItems[A[d.stat]])),u.push(d.stat)):i.push(r.a.createElement("span",{key:"buff_ui_".concat(p),className:"statBuff ".concat(d.origin," ").concat(g)}))}var h="";c>n?h="up":c<n&&(h="down");var f=-1!==u.indexOf(e)?"text_glow_"+A[e]:"",y=["statWrapper",h].filter((function(e){return e})).join(" ");return r.a.createElement("div",null,r.a.createElement("div",{className:y},r.a.createElement("div",{className:f},c+s),r.a.createElement("div",{className:"uiBuffWrapper"},i)),r.a.createElement("span",{className:"char ".concat(e)},e," ",m))},Tl=function(e){var a=e.opponent,t=e.data,n=e.forceData,l=a?t.opponent:t.player;n&&(l=n);var s=["playerStats"].filter((function(e){return e})).join(" ");return r.a.createElement("div",{className:s},wl("STR",l),wl("DEX",l),wl("CON",l),wl("MAG",l),wl("LCK",l))};Tl.defaultProps={opponent:!1};var Ol=Object(s.b)((function(e){return{data:e}}))(Tl),Gl=function(e){var a=e.data,t=e.opponent,n=e.forceData,l=e.animations,s=t?a.opponent:a.player;n&&(s=n);var c=["playerItems"].filter((function(e){return e})).join(" ");function o(e,a,t){var n;return t&&t[e]&&t[e][a]&&(n="legacy"),n}return r.a.createElement("div",{className:c},r.a.createElement(Qr,{item:s.items.STR,effect:o("items","STR",a.game.legacy),animations:l}),r.a.createElement(Qr,{item:s.items.DEX,effect:o("items","DEX",a.game.legacy),animations:l}),r.a.createElement(Qr,{item:s.items.CON,effect:o("items","CON",a.game.legacy),animations:l}),r.a.createElement(Qr,{item:s.items.MAG,effect:o("items","MAG",a.game.legacy),animations:l}),r.a.createElement(Qr,{item:s.items.LCK,effect:o("items","LCK",a.game.legacy),animations:l}))};Gl.defaultProps={animations:!0,opponent:!1};var Cl=Object(s.b)((function(e){return{data:e}}))(Gl);var Rl=function(e){function a(e){var t;Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).handleChange=function(e){t.setState({name:e.target.value})},t.setStyle=function(e){var a=t.props.settings;return D("setStyle","function"),a({setting:"createPlayer",style:e}),t.setState({baseStyle:e}),!1},t.startGame=function(){var e=t.props,a=e.setGameState,n=e.settings,r=t.state.name;D("startGame","function"),n({setting:"preference",type:"playerName",value:r}),n({setting:"deleteLegacy"}),n({setting:"resetLevel"}),n({setting:"forgeUniques"}),a({state:"levelTransition"})};var n=t.props.player;return t.state={name:n&&n.name?n.name:"",baseStyle:"warrior"},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"checkLegacy",value:function(e,a){var t,n=this.props.game;return n.legacy&&n.legacy[e]&&n.legacy[e][a]&&(t="legacy"),t}},{key:"render",value:function(){for(var e=this,a=this.props,t=a.player,n=a.score,l=this.state,s=l.name,c=l.baseStyle,o={id:5,score:t.gold,type:"coins"},i=[],m=0;m<t.instants.length;m++){var u=t.instants[m];i.push(r.a.createElement(Qr,{key:"instant_".concat(m),item:u,displayChar:!1,noPlus:!0}))}return r.a.createElement("div",{className:"mainWrapper wideScreen"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea shopWrapper highIndex"},n&&n.game&&n.game.runs?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-big"},s),r.a.createElement("div",{style:{marginTop:"5px"}},"Run #",n.game.runs+1," - XP Level ",ke(t.xp))):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Your name"),r.a.createElement("input",{type:"text",name:"name",value:s,onChange:this.handleChange,autoComplete:"off"})),r.a.createElement("div",{className:"profileSelector"},r.a.createElement("button",{onClick:function(){return e.setStyle("warrior")},className:"warrior"!==c?"third-transparent":""},"Warrior"),r.a.createElement("button",{onClick:function(){return e.setStyle("mage")},className:"mage"!==c?"third-transparent":""},"Mage"),r.a.createElement("button",{onClick:function(){return e.setStyle("thief")},className:"thief"!==c?"third-transparent":""},"Thief")),r.a.createElement("label",{className:"hideOnSmall"},"Stats, gear and ",r.a.createElement("span",{className:"legacyColor"},"previous run")," items "),r.a.createElement("div",{className:"profileStats"},r.a.createElement(Ol,null),r.a.createElement(Cl,{animations:!1})),r.a.createElement("span",{className:"subtitle hideOnSmall"},"Weapons"),r.a.createElement("span",{className:"subtitle showOnSmall"},"Weapons and start items"),r.a.createElement("div",{className:"playerItems"},r.a.createElement(Qr,{item:t.weapons.STR,effect:this.checkLegacy("weapons","STR")}),r.a.createElement(Qr,{item:t.weapons.MAG,effect:this.checkLegacy("weapons","MAG")})),r.a.createElement("span",{className:"subtitle hideOnSmall"},"Start items level ",ke(t.xp)),r.a.createElement("div",{className:"playerItems small_margin"},i),r.a.createElement("span",{className:"subtitle hideOnSmall"},"Gold"),r.a.createElement("div",{className:"goldLoot noMargin noPadding"},r.a.createElement(Qr,{item:o,effect:"new",animateNumber:!0,noPlus:!0}))),r.a.createElement("div",{className:"actionArea oneitem"},r.a.createElement("button",{className:"navigation",onClick:function(){return e.startGame()},disabled:0===s.length},"Start game"))))}}]),a}(n.Component),jl=Object(s.b)((function(e){return{player:e.player,game:e.game,score:e.score}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Rl),Ll=t(82),xl=t(263),Pl=t.n(xl);var Dl=Object(s.b)((function(e){return{}}),(function(e){return{}}))((function(){var e=["eliteIndicator"].filter((function(e){return e})).join(" ");return r.a.createElement("div",{className:e},r.a.createElement("img",{src:Pl.a,alt:"Elite background"}))})),Il=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).fetchPalette=function(e){Ll.from(e).getPalette().then((function(e){t.setState({color:{vibrant:e.Vibrant.getHex(),darkVibrant:e.DarkVibrant.getHex(),darkMuted:e.DarkMuted.getHex()}})}))},t.state={portraitReady:!1,color:{vibrant:"black",darkVibrant:"rgba(0, 0, 0, 0.4)",darkMuted:"rgba(0, 0, 0, 0.4)"}},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.type,a=yn(e);this.fetchPalette(a);var t=document.getElementById("portrait_"+e),n=this;t.addEventListener("load",(function(){var e=this.naturalWidth>this.naturalHeight?"landscape":"portrait";n.setState({mode:e,portraitReady:!0})}))}},{key:"render",value:function(){var e=this.props,a=e.type,t=e.name,n=e.outline,l=e.elite,s=e.monsterList,c=this.state,o=c.mode,i=c.portraitReady,m=c.color,u=En(a,1,s),p=m.darkVibrant,d="opponentWrapper round turn static";"shade"===n&&(d="opponentWrapper outline turn static"),"bright"===n&&(d="opponentWrapper outline bright turn static"),"half"===n&&(d="opponentWrapper outline half turn static");var g=[d].filter((function(e){return e})).join(" "),h={backgroundColor:p},f="portrait"===o?{width:"250px",top:u.verticalPosition?"".concat(u.verticalPosition,"%"):"50%"}:{width:"350px",top:u.verticalPosition?"".concat(u.verticalPosition,"%"):"50%"},y=i?"portrait ready":"portrait";return n?r.a.createElement("div",{key:"opponent",className:g},r.a.createElement("img",{id:"portrait_".concat(a),className:y,src:u.pic,style:f,alt:t})):r.a.createElement("div",{key:"opponent",className:g,style:h},l&&r.a.createElement(Dl,null),r.a.createElement("div",{className:"infos"},r.a.createElement("div",{className:"name"},l?r.a.createElement("div",null,t,r.a.createElement("div",{className:"details"},r.a.createElement("span",{className:"eliteMarker"},"Elite"))):r.a.createElement("div",null,t,r.a.createElement("div",{className:"details"})))),r.a.createElement("img",{id:"portrait_".concat(a),className:y,src:u.pic,style:f,alt:t}))}}]),a}(n.Component);Il.defaultProps={};var Xl=Il;var Wl=function(e){function a(){return Object(Nr.a)(this,a),Object(Mr.a)(this,Object(Sr.a)(a).apply(this,arguments))}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){document.getElementById("currentLevel").scrollIntoView({behavior:"instant",block:"center",inline:"center"})}},{key:"render",value:function(){for(var e=this.props,a=e.game,t=e.player,n=e.opponent,l=e.setGameState,s=e.score,c=e.monsterList,o=e.opponentMap,i=e.loop,m=ke(t.xp),u=Math.ceil(a.level/(p.maxLevel/p.zones)),d={position:"relative"},g=[],h=1;h<=p.maxLevel;h++)if(h<a.level)g.push(r.a.createElement("div",{key:"deadmonster_".concat(h),className:"deadMonster"},r.a.createElement(Xl,{type:s.run.history[h-1][0],name:s.run.history[h-1][1],elite:s.run.history[h-1][2],monsterList:c})));else if(h===a.level){var f={filter:"hue-rotate(".concat(Math.round(h*(360/p.maxLevel)),"deg)")};g.push(r.a.createElement("div",{key:"currentlevel_".concat(h),className:"infoWrapper",id:"currentLevel"},r.a.createElement(Xl,{type:n.job,name:n.name,elite:n.elite,monsterList:c,outline:"half"}),r.a.createElement("div",{className:"leftInfo"},i?r.a.createElement("div",null,"Final run"):r.a.createElement("div",null,"Run #",s.game.runs),s.run.round>1&&r.a.createElement("div",null,s.run.round," rounds"),s.run.round<=1&&r.a.createElement("div",null,"Game starts !"),!s.run.round&&r.a.createElement("div",null,"Game starts !"),r.a.createElement("br",null),o[h-1].elite&&r.a.createElement("div",null,r.a.createElement(ll,{element:"elite"})),r.a.createElement("div",null,o[h-1].name)),r.a.createElement("div",{className:"logoWrapper",style:d},r.a.createElement("div",{className:"logoCombine",style:f},r.a.createElement("span",null,h),r.a.createElement("img",{src:_r.a,className:h===a.level&&"logo2",alt:"Logo2"}))),r.a.createElement("div",{className:"rightInfo"},r.a.createElement("div",null,"XP lv. ",m),i?r.a.createElement("div",null,"Abyss monsters"):r.a.createElement("div",null,"Monsters lv. ",u))))}else{g.push(r.a.createElement("div",{key:"incominglevel_".concat(h),className:"nextLevel"},r.a.createElement(Xl,{type:o[h-1].job,name:o[h-1].name,elite:o[h-1].elite,monsterList:c,outline:h%5===0?"bright":"shade"}),r.a.createElement("div",{className:"leftInfo"},o[h-1].elite&&h%5===0&&r.a.createElement("div",null,r.a.createElement(ll,{element:"elite"})),h%5===0&&r.a.createElement("div",null,o[h-1].name)),r.a.createElement("div",{className:"logoWrapper",style:d},r.a.createElement("div",{className:"logoCombine",style:{filter:"grayscale(100%)",opacity:.4,transform:"scale(.8)"}},r.a.createElement("span",null,h),r.a.createElement("img",{src:_r.a,className:h===a.level?"logo2":"",alt:"Logo2"}))),r.a.createElement("div",{className:"rightInfo"},h%5===0&&r.a.createElement("div",null,"Boss"))))}var y=i?"mainWrapper wideScreen abyss":"mainWrapper wideScreen";return r.a.createElement("div",{className:y},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea levelTransition"},r.a.createElement("div",{className:"roadmap"},g)),r.a.createElement("div",{className:"actionArea fixed"},r.a.createElement("button",{className:"navigation",onClick:function(){return l({state:"battleIntro"})}},"Next opponent !"))))}}]),a}(n.Component),Bl=Object(s.b)((function(e){return{game:e.game,player:e.player,opponent:e.opponent,score:e.score,monsterList:e.monsters,opponentMap:e.game.opponentMap,loop:e.game.loop}}),(function(e){return{setGameState:function(a){return e(jr(a))}}}))(Wl),_l=t(42),Fl=t.n(_l),Ul=function(e){var a=e.data,t=e.opponent,n=e.forceData,l=t?a.opponent:a.player;n&&(l=n);var s=["playerWeapons"].filter((function(e){return e})).join(" ");return r.a.createElement("div",{className:s},r.a.createElement(Qr,{item:l.weapons.STR}),r.a.createElement(Qr,{item:l.weapons.MAG}))};Ul.defaultProps={};var Vl=Object(s.b)((function(e){return{data:e}}))(Ul),Yl=function(e){var a=e.opponent,t=e.humanoid,n=e.forceData,l=["statsAndItemsWrapper"].filter((function(e){return e})).join(" ");return r.a.createElement("div",{className:l},r.a.createElement("div",{className:"statsWrapper"},r.a.createElement(Ol,{opponent:a,forceData:n}),r.a.createElement(Cl,{opponent:a,forceData:n})),(t||!a)&&r.a.createElement(Vl,{opponent:a,forceData:n}))};Yl.defaultProps={opponent:!1,humanoid:!1};var Hl=Object(s.b)((function(e){return{}}))(Yl),Kl=function(e){var a=e.opponent,t=[];if(a.buff&&a.buff.temporary)for(var n=0;n<a.buff.temporary.length;n++){var l=a.buff.temporary[n];t.push(r.a.createElement("div",{key:"alteration_".concat(n),className:"alteration"},r.a.createElement("span",{className:"counter"},l.rounds+1),r.a.createElement(zr,{item:p.icons[l.origin][0],level:p.icons[l.origin][1]})))}return t};Kl.defaultProps={};var Zl=Object(s.b)((function(e){return{opponent:e.opponent}}))(Kl);var zl=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).state={portraitReady:!1},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementById("portrait"),a=this;e.addEventListener("load",(function(){var e=this.naturalWidth>this.naturalHeight?"landscape":"portrait";a.setState({mode:e,portraitReady:!0})}))}},{key:"render",value:function(){var e=this.props,a=e.data,t=e.turn,n=e.color,l=e.intro,s=this.state,c=s.mode,o=s.portraitReady,i=n.vibrant,m=n.darkVibrant,u="linear-gradient(".concat(Fl()(n.darkMuted).darken(1).desaturate(.4)," 50%, transparent)"),p=t?"":"turn",d=l||"",g=t?{backgroundColor:m}:{backgroundColor:m,boxShadow:"rgba(0, 0, 0, 0.59) 0px 0px 11px 0px, 0px 0px 40px ".concat(i)},h=["opponentWrapper",p,d,a.element].filter((function(e){return e})).join(" "),f=u?{backgroundImage:u}:{},y="portrait"===c?{width:"400px",top:a.verticalPosition?"".concat(a.verticalPosition,"%"):"50%"}:{width:"500px",top:a.verticalPosition?"".concat(a.verticalPosition,"%"):"50%"},b=o?"portrait ready":"portrait";return[r.a.createElement("div",{key:"monsterOverlay",className:"monsterOverlay",style:f}),r.a.createElement("div",{key:"opponent",className:h,style:g},a.elite&&r.a.createElement(Dl,null),r.a.createElement("div",{className:"infos"},r.a.createElement("div",{className:"level"}),r.a.createElement("div",{className:"name"},r.a.createElement("div",null,a.name,r.a.createElement("div",{className:"details"},a.elite&&r.a.createElement(ll,{element:"elite"}),a.element&&r.a.createElement(ll,{element:a.element}))),r.a.createElement("div",{className:"status"},r.a.createElement(Zl,null)))),r.a.createElement(Hl,{opponent:!0,humanoid:a.humanoid}),r.a.createElement($r,{opponent:!0,type:"hitPoints",color:i}),r.a.createElement("img",{id:"portrait",className:b,src:a.pic,style:y,alt:a.name}))]}}]),a}(n.Component),ql=Object(s.b)((function(e){return{data:e.opponent,level:e.game.level}}),(function(e){return{}}))(zl),Ql=Object(s.b)((function(e){return{history:e.score.alltime.opponents}}))((function(e){var a,t,n,l=e.type,s=e.history;return s&&s[l]?(a="Encounters : ".concat(s[l].total),t=s[l].victories?s[l].victories>1?"".concat(s[l].victories," victories"):"1 victory":"",n=s[l].defeats?s[l].defeats>1?"".concat(s[l].defeats," defeats"):"1 defeat":""):a="First encounter !",r.a.createElement("div",{className:"encountersWrapper"},r.a.createElement("div",{className:"title"},a),r.a.createElement("div",{className:"stats"},t&&r.a.createElement("span",null,t),n&&r.a.createElement("span",null,n)))}));var Jl=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).fetchPalette=function(e){Ll.from(e).getPalette().then((function(e){t.setState({monstercolor:{vibrant:e.Vibrant.getHex(),darkVibrant:e.DarkVibrant.getHex(),darkMuted:e.DarkMuted.getHex()}})}))},t.startBattle=function(){var e=t.state.monstercolor,a=t.props,n=a.settings,r=a.setGameState;n({setting:"setUIColor",color:e}),r({state:"battle"})},t.state={monstercolor:{vibrant:"black",darkVibrant:"rgba(0, 0, 0, 0.4)",darkMuted:"rgba(0, 0, 0, 0.4)"}},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.opponent;this.fetchPalette(e.pic)}},{key:"render",value:function(){var e=this,a=this.props,t=a.opponent,n=a.loop,l=this.state.monstercolor,s=n?"mainWrapper wideScreen abyss":"mainWrapper wideScreen";return r.a.createElement("div",{className:s},r.a.createElement("div",{className:"appWrapper"},r.a.createElement(ql,{color:l,intro:"intro"}),r.a.createElement("div",{className:"opponentIntro"},r.a.createElement("div",{className:"name"},t.elite&&n&&r.a.createElement("span",null,"Abyss"),t.elite&&!n&&r.a.createElement("span",null,"Elite"),t.name),r.a.createElement("div",{className:"details"},t.elite&&r.a.createElement(ll,{big:!0,element:"elite"}),t.element&&r.a.createElement(ll,{big:!0,element:t.element}),r.a.createElement(Ql,{type:t.job}))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation bi_action",onClick:function(){return e.startBattle()}},"Start battle !"))))}}]),a}(n.Component),$l=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,game:e.game,loop:e.game.loop}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Jl),es=t(78);var as=function(e){function a(e){var t;Object(Nr.a)(this,a);var n=(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).props.player;return t.state={xpBarValue:n.xp},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.player,n=a.opponent;this.rollDelay=setTimeout((function(){e.setState({xpBarValue:t.xp+n.xp})}),3500)}},{key:"render",value:function(){var e=this.props,a=e.player,t=e.opponent,n=e.game,l=e.display,s=e.setGameState,c=e.dataLogs,o=this.state.xpBarValue,i=["endGame"].filter((function(e){return e})).join(" "),m=ke(a.xp),u=ke(a.xp+t.xp),p=u>m?r.a.createElement("span",{className:"levelUp"},"Level up!",r.a.createElement("br",null),r.a.createElement("span",null,"You can now save up to ",u," items!")):"";if(!l)return r.a.createElement("div",{className:i});var d={color:n.uicolor.vibrant};return 0===a.hitPoints?n.loop?r.a.createElement("div",{className:"".concat(i," active abyss")},r.a.createElement("div",{className:"presentationArea"},r.a.createElement("div",{className:"title defeat"},"Final blow!"),r.a.createElement("div",{className:"subtitle"},a.name," fought bravely, but the Abyss of Permadeath never loses."),r.a.createElement("div",{className:"subtitle"},r.a.createElement("span",{style:d},t.name)," won",r.a.createElement("br",null),c.length-1>1?r.a.createElement("span",null,"".concat(c.length-1," rounds")):r.a.createElement("span",null,"".concat(c.length-1," round !"))),r.a.createElement("img",{className:"death",src:ul.a,alt:"You lose"})),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return s({state:"permadeath"})}},"You're dead"))):r.a.createElement("div",{className:"".concat(i," active")},r.a.createElement("div",{className:"presentationArea"},r.a.createElement("div",{className:"title defeat"},"Defeat !"),r.a.createElement("div",{className:"subtitle"},"You quickly flee the battle,",r.a.createElement("br",null),"trying to save as much as you can."),r.a.createElement("div",{className:"subtitle"},r.a.createElement("span",{style:d},t.name)," won",r.a.createElement("br",null),c.length-1>1?r.a.createElement("span",null,"".concat(c.length-1," rounds")):r.a.createElement("span",null,"".concat(c.length-1," round !"))),r.a.createElement("img",{className:"death",src:ul.a,alt:"You lose"})),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return s({state:"defeat"})}},"Select saved items"))):0===t.hitPoints?r.a.createElement("div",{className:"".concat(i," active")},r.a.createElement("div",{className:"presentationArea"},r.a.createElement("div",{className:"title"},"Victory !"),r.a.createElement("div",{className:"xpBarWrapper"},r.a.createElement("div",null,"+",r.a.createElement(Kr.a,{formatValue:function(e){return e.toFixed(0)},value:t.xp})," XP",p),r.a.createElement("div",{className:"xpBar"},r.a.createElement("div",{className:"level"},"Lvl.",ke(a.xp)),r.a.createElement($r,{type:"xp",current:o>Ne(m+1)?Ne(m+1):o,ready:Ne(m+1)}),r.a.createElement("div",{className:"level"},"Lvl.",ke(a.xp)+1))),r.a.createElement("div",{className:"crackedImage"},r.a.createElement("img",{src:t.pic,alt:t.name})),r.a.createElement("div",{className:"subtitle"},"You defeated",r.a.createElement("div",{className:"opponentName",style:d},t.name),c.length-1>1?r.a.createElement("span",null,"in ","".concat(c.length-1," rounds")):r.a.createElement("span",null,"in only ","".concat(c.length-1," round !")))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return s({state:"victory"})}},"Loot !"))):void 0}}]),a}(n.Component),ts=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,game:e.game,playerTurn:e.game.playerTurn,dataLogs:e.dataLogs}}),(function(e){return{setGameState:function(a){return e(jr(a))}}}))(as);var ns=function(e){var a,t,n,l,s,c=e.id,o=e.attack,i=e.data,m=e.onSell;if(i){switch(t=r.a.createElement(zr,{item:i.type,level:i.id}),l=i.charges,s=i.label,i.effect){case"quickheal":a=function(){return o({type:"skill",mode:"quickheal",item:i,id:c})};break;case"upgrade":a=function(){return o({type:"skill",mode:"upgrade",item:i,id:c})};break;case"restore":a=function(){return o({type:"skill",mode:"restore",item:i,id:c})};break;case"damage":a=function(){return o({type:"skill",mode:"damage",item:i,id:c})};break;case"sharpen":a=function(){return o({type:"skill",mode:"sharpen",item:i,id:c})}}m&&(a=function(){return m(c,i)})}else n="disabled";var u=["instant",n].filter((function(e){return e})).join(" ");return m&&i?r.a.createElement("div",{className:"storeItemWrapper"},r.a.createElement("button",{className:u,onClick:a},l>0&&r.a.createElement("span",{className:"counter"},l),s&&r.a.createElement("span",{className:"power"},s),t),r.a.createElement("span",{className:"itemPrice"},r.a.createElement(zr,{item:"coins",level:5,small:!0}),i.reward)):r.a.createElement("button",{className:u,onClick:a},l>0&&r.a.createElement("span",{className:"counter"},l),s&&r.a.createElement("span",{className:"power"},s),t)};ns.defaultProps={};var rs=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent}}),(function(e){return{attack:function(a){return e(Lr(a))}}}))(ns);var ls=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent}}),(function(e){return{}}))((function(e){var a=e.player,t=e.onSell,n=[];if(a.instants)for(var l=0;l<a.instants.length;l++){var s=a.instants[l];n.push(r.a.createElement(rs,{onSell:t,key:"instant_".concat(l),id:parseInt(l),data:s}))}if(n.length<6)for(var c=n.length;c<6;c++)n.push(r.a.createElement(rs,{onSell:t,key:"empty_".concat(c)}));return n}));var ss=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent}}),(function(e){return{attack:function(a){return e(Lr(a))}}}))((function(e){for(var a=e.player,t=(e.opponent,[]),n=0,l=Object.entries(a.skills);n<l.length;n++){var s=Object(u.a)(l[n],2),c=s[0],o=s[1];t.push(r.a.createElement(nl,{type:c,current:o.current,ready:o.ready}))}return r.a.createElement("div",{className:"actionsWrapper"},r.a.createElement("div",{className:"buttons"},r.a.createElement(ls,null),r.a.createElement(al,{type:"block"}),r.a.createElement(al,{type:"attack"}),r.a.createElement(al,{type:"specialattack"}),t[0],t[1],t[2],r.a.createElement(al,{type:"focus"}),r.a.createElement(al,{type:"cast"}),r.a.createElement(al,{type:"specialcast"}),t[3],t[4],t[5]))})),cs=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).state={rollPosition:22.5},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.position;this.rollDelay=setTimeout((function(){var t=L(-3,3);e.setState({rollPosition:45*a+720+112.5+360+t})}),p.widgetDelay)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.rollDelay)}},{key:"render",value:function(){var e,a,t=this.props,n=t.type,l=t.items,s=t.customFumble,c=this.state.rollPosition,o=L(50,58)/100,i=L(-37,18)/100,m=L(39,100)/100,u=L(60,140)/100,d={transform:"rotate(".concat(c,"deg)"),transition:"transform 1.5s cubic-bezier(".concat(o,",").concat(i,",").concat(m,",").concat(u,")")};return e=s||[p.icons.fumble[0],p.icons.fumble[1]],a=l?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(zr,{item:"fumble"===l[0]?e[0]:l[0].item.type,level:"fumble"===l[0]?e[1]:l[0].item.id})),r.a.createElement("li",null,r.a.createElement(zr,{item:"fumble"===l[1]?e[0]:l[1].item.type,level:"fumble"===l[1]?e[1]:l[1].item.id})),r.a.createElement("li",null,r.a.createElement(zr,{item:"fumble"===l[2]?e[0]:l[2].item.type,level:"fumble"===l[2]?e[1]:l[2].item.id})),r.a.createElement("li",null,r.a.createElement(zr,{item:e[0],level:e[1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:"fumble"===l[4]?e[0]:l[4].item.type,level:"fumble"===l[4]?e[1]:l[4].item.id})),r.a.createElement("li",null,r.a.createElement(zr,{item:"fumble"===l[5]?e[0]:l[5].item.type,level:"fumble"===l[5]?e[1]:l[5].item.id})),r.a.createElement("li",null,r.a.createElement(zr,{item:"fumble"===l[6]?e[0]:l[6].item.type,level:"fumble"===l[6]?e[1]:l[6].item.id})),r.a.createElement("li",null,r.a.createElement(zr,{item:e[0],level:e[1]}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(zr,{item:p.icons[n][0],level:p.icons[n][1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:p.icons.critical[0],level:p.icons.critical[1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:p.icons[n][0],level:p.icons[n][1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:e[0],level:e[1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:p.icons[n][0],level:p.icons[n][1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:e[0],level:e[1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:p.icons[n][0],level:p.icons[n][1]})),r.a.createElement("li",null,r.a.createElement(zr,{item:p.icons.critical[0],level:p.icons.critical[1]}))),r.a.createElement("div",{className:"wheelWrapper"},r.a.createElement("ul",{className:"needleWrapper",style:d},r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null)),r.a.createElement("ul",{className:"circle-container"},a))}}]),a}(n.Component);cs.defaultProps={};var os=cs,is=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).state={rollPosition:0},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.hit;this.rollDelay=setTimeout((function(){e.setState({rollPosition:a.roll})}),p.widgetDelay)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.rollDelay)}},{key:"render",value:function(){for(var e=this.props,a=e.connectedData,t=e.color,n=e.hit,l=e.type,s=this.state.rollPosition,c=a.game.playerTurn,o=c?a.opponent:a.player,i=["hitbar"].filter((function(e){return e})).join(" "),m=Yn(o),u=n.toHit,p=Vn(o),d=n.roll,g=[],h=[],f=1;f<=20;f++){var y=void 0,b={};f<=m?y="fumble":f>=p?(y="critical",b=c?{backgroundColor:t.vibrant}:{}):f>=u?(y="hit",b=c?{backgroundColor:t.darkVibrant}:{}):y="miss",y=l+" "+y,g.push(r.a.createElement("div",{key:f,className:y,style:b}))}for(var v=1;v<=d;v++){var E=void 0;v===s&&(E=r.a.createElement("div",{className:"roll"})),h.push(r.a.createElement("div",{key:v},E))}var k={width:5*s+"%"};return r.a.createElement("div",{className:i},r.a.createElement("div",{style:k,className:"wrapper position"},h),r.a.createElement("div",{className:"wrapper stages"},g))}}]),a}(n.Component);is.defaultProps={color:!1,playerTurn:!1};var ms=Object(s.b)((function(e){return{connectedData:e}}))(is),us=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).state={hidden:!0},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({hidden:!1})}),this.props.waitBeforeShow)}},{key:"render",value:function(){return this.state.hidden?this.props.placeholder?this.props.placeholder:null:this.props.children}}]),a}(r.a.Component);var ps=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).state={},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"render",value:function(){var e,a,t,n=this.props,l=n.log,s=n.playerTurn,c=n.color,o=n.skip,i=n.game,m=this.state,u=m.message,d=m.note,g=l.type,h=l.data,f="LogsWrapper ".concat(g),y=s&&!i.skipTurn?{background:Fl()(c.darkMuted).alpha(.96),borderColor:c.darkVibrant}:{},b={backgroundColor:c.vibrant};switch(h&&h.hit&&("critical"===h.hit||h.hit.critical)&&(e=s?r.a.createElement(us,{waitBeforeShow:1200},r.a.createElement("div",{className:"effect_critical"})):r.a.createElement(us,{waitBeforeShow:1200},r.a.createElement("div",{className:"effect_critical_opponent"}))),h&&h.hit&&("fumble"===h.hit||h.hit.fumble)&&(e=s?r.a.createElement(us,{waitBeforeShow:1200},r.a.createElement("div",{className:"effect_fumble"})):r.a.createElement(us,{waitBeforeShow:1200},r.a.createElement("div",{className:"effect_fumble_opponent"}))),g){case"block":case"focus":break;case"attack":case"cast":a=r.a.createElement(ms,{type:g,hit:h.hit,color:c});break;case"psyblast":a=r.a.createElement(os,{type:"psyblast",position:h.wheelPosition});break;case"stun":a=r.a.createElement(os,{type:"stun",position:h.wheelPosition});break;case"itembreak":a=r.a.createElement(os,{type:"itembreak",items:h.wheelPositions,position:h.wheelPosition});break;case"curse":a=r.a.createElement(os,{type:"curse",position:h.wheelPosition});break;case"heal":a=r.a.createElement(os,{type:"heal",items:h.wheelPositions,position:h.wheelPosition,customFumble:["potion",13]});break;case"reflect":a=r.a.createElement(os,{type:"heal",items:h.wheelPositions,position:h.wheelPosition,customFumble:["skill",17]});break;case"quickheal":case"upgrade":case"restore":case"damage":a=r.a.createElement(zr,{big:!0,item:l.data.icon[0],level:l.data.icon[1]});break;case"sharpen":a=[r.a.createElement(os,{key:"sharpenWheel",type:"itembreak",items:h.wheelPositions,position:h.wheelPosition})]}var v,E,k=!s||i.skipTurn?"player":"opponent";"attack"===g?(v=l.activePlayer.weapons.STR&&l.activePlayer.weapons.STR.type,E=l.activePlayer.weapons.STR&&l.activePlayer.weapons.STR.id):"cast"===g?(v=l.activePlayer.weapons.MAG&&l.activePlayer.weapons.MAG.type,E=l.activePlayer.weapons.MAG&&l.activePlayer.weapons.MAG.id):l.data&&l.data.icon?(v=l.data.icon[0],E=l.data.icon[1]):(v=p.icons[g]&&p.icons[g][0],E=p.icons[g]&&p.icons[g][1]);var N,A,M,S,w=s&&!i.skipTurn?[r.a.createElement("div",{key:"monster_turnTag",className:"turnTag"}),r.a.createElement("div",{key:"monster_turnColor",className:"turnColor",style:b})]:[r.a.createElement("div",{key:"player_turnTag",className:"turnTag"}),r.a.createElement("div",{key:"player_turnAction",className:"turnAction ".concat(g)},r.a.createElement(zr,{small:!0,item:v,level:E}))],T=l.data&&l.data.displayEffect?l.data.displayEffect:"",O=[f,k,t].filter((function(e){return e})).join(" "),G=["log",T].filter((function(e){return e})).join(" ");g?(A={zIndex:100,background:s&&!i.skipTurn?Fl()(c.darkMuted).alpha(.5):"rgba(33,53,38,.5)"},"immediate"===l.delay?(M=r.a.createElement("div",{className:"message",dangerouslySetInnerHTML:{__html:u}}),S=r.a.createElement("div",{className:"note",dangerouslySetInnerHTML:{__html:d}})):(M=r.a.createElement(us,{waitBeforeShow:1700,placeholder:r.a.createElement("div",{className:"message"},"Rolling...")},r.a.createElement("div",{className:"message",dangerouslySetInnerHTML:{__html:u}})),S=r.a.createElement(us,{waitBeforeShow:1700,placeholder:r.a.createElement("div",{className:"note"},"Rolling...")},r.a.createElement("div",{className:"note",dangerouslySetInnerHTML:{__html:d}}))),N=r.a.createElement("div",{className:O,onClick:function(){return o()}},r.a.createElement("div",{className:G,style:y},w,r.a.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:l.display.title}}),M,a,S))):(A={zIndex:0,background:"none"},N=r.a.createElement("span",null));return r.a.createElement("div",{className:"LogsContainer",style:A},r.a.createElement(Fr.a,{component:null},r.a.createElement(Or.a,{key:+new Date,timeout:600,classNames:s&&!i.skipTurn?"playerLog":"opponentLog"},N)),e)}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.log.display&&a.message!==e.log.display.message||e.log.display&&a.note!==e.log.display.note?{message:e.log.display.message,note:e.log.display.note}:null}}]),a}(n.Component),ds=Object(s.b)((function(e){return{log:e.log,game:e.game,playerTurn:e.game.playerTurn}}),(function(e){return{}}))(ps);var gs=Object(s.b)((function(e){return{dataLogs:e.dataLogs,game:e.game}}),(function(e){return{}}))((function(e){for(var a=e.dataLogs,t=e.game,n={background:"linear-gradient(0deg, rgba(0,0,0,0) 0%, ".concat(Fl()(t.uicolor.darkMuted).darken(1).desaturate(.4)," 100%)")},l=[],s=0;s<a.length;s++){var c=a[s];l.push(r.a.createElement("li",{key:"datalog_".concat(s)},r.a.createElement(zr,{item:c.icon[0],level:c.icon[1],small:!0}),r.a.createElement("span",{className:"dataLog",dangerouslySetInnerHTML:{__html:c.log}})))}return r.a.createElement("div",{className:"dataLogsWrapper"},r.a.createElement("div",{className:"dataLogShadow",style:n}),r.a.createElement("ul",{className:"dataLogs"},l))})),hs=function(e){var a=e.condition,t=(e.wrapper,e.children);return a?r.a.createElement("div",{className:"vibrationWrapper animation-rumble"},t):r.a.createElement("div",{className:"vibrationWrapper"},t)};var fs=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).changeTurn=function(){var e=t.props,a=e.opponent,n=e.game,r=e.attack,l=e.setGameState;n.playerTurn||n.skipTurn?(t.setState({playerTurnUI:!0}),l({state:"playerTurn"})):(ne(a,"temporary","STUN")?r({type:"skip"}):r({type:t.opponentAttackChoice(),mode:"attack"}),t.setState({playerTurnUI:!1}))},t.skipTurnChange=function(){var e=t.props,a=e.opponent,n=e.player;0!==a.hitPoints&&0!==n.hitPoints&&(clearTimeout(t.opponentTurn),clearTimeout(t.playerTurn),t.changeTurn())},t.opponentAttackChoice=function(){var e,a=t.props,n=a.opponent,r=a.player;if(n.humanoid){var l=_n(Bn(n,r,"physical")),s=_n(Bn(n,r,"magical"));n.weapons.STR&&(l+=30),n.weapons.MAG&&(s+=30);var c=l+s,o=Math.round(100*l/c);e=L(1,100)<=o?"physical":"magical"}else e="physical";return e},t.launchOpponentTurn=function(){var e,a=t.props,n=a.settings;e="long"===a.log.delay?1.5*n.combatSpeed:n.combatSpeed,clearTimeout(t.opponentTurn),t.opponentTurn=setTimeout(function(){this.changeTurn()}.bind(Object(es.a)(t)),e)},t.state={playerTurnUI:t.props.playerTurn},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.opponent,n=a.player,r=a.playerTurn,l=a.settings,s=a.game,c=this.state.battleEnd;if(0===t.hitPoints||0===n.hitPoints)return clearTimeout(this.opponentTurn),clearTimeout(this.playerTurn),c||(this.endGame=setTimeout(function(){this.setState({battleEnd:!0})}.bind(this),2e3)),!1;e.playerTurn===r||!1!==r||s.skipTurn||this.launchOpponentTurn(),e.playerTurn!==r&&!0===r&&(clearTimeout(this.playerTurn),this.playerTurn=setTimeout(function(){this.changeTurn()}.bind(this),l.combatSpeed))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.opponentTurn),clearTimeout(this.playerTurn),clearTimeout(this.endGame)}},{key:"render",value:function(){var e=this.state,a=e.playerTurnUI,t=e.battleEnd,n=this.props,l=n.game,s=n.player,c=n.uicolor,o=n.loop;D("Battle render","location");var i=10-Math.round(10*s.hitPoints/s.maxHitPoints),m=a?"playerArea playerTurn":"playerArea opponentTurn",u=o?"appWrapper battle danger_".concat(i," abyss"):"appWrapper battle danger_".concat(i);return r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:u},r.a.createElement(ts,{display:t}),r.a.createElement(hs,{condition:l.opponentHit},r.a.createElement(ql,{color:c,turn:a})),r.a.createElement(gs,null),r.a.createElement(ds,{color:c,skip:this.skipTurnChange}),r.a.createElement(hs,{condition:l.playerHit},r.a.createElement("div",{className:m},r.a.createElement($r,{type:"hitPoints"}),r.a.createElement(Hl,null),r.a.createElement(ss,null)))))}}]),a}(n.Component),ys=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,playerTurn:e.game.playerTurn,game:e.game,settings:e.game.settings,log:e.log,uicolor:e.game.uicolor,loop:e.game.loop}}),(function(e){return{attack:function(a){return e(Lr(a))},setGameState:function(a){return e(jr(a))}}}))(fs);var bs=function(e){function a(e){var t;Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).getLoot=function(e,a,n){var r=t.props.settings,l=t.state.moveditems,s=l||[];D("getLoot","function"),r({setting:"moveItem",type:e,char:a,item:n}),s.push({type:e,char:a}),t.setState({moveditems:s})},t.sellLoot=function(e,a,n){var r=t.props,l=r.opponent,s=r.settings,c=t.state,o=c.solditems,i=c.lootedGold,m=o||[];D("sellLoot","function"),s({setting:"sellItem",type:e,char:a,item:n}),m.push({type:e,char:a}),t.setState({lootedGold:i+l[e][a].reward})},t.sellMonsterPart=function(e,a){var n=t.props.settings,r=t.state,l=r.soldMonsterParts,s=r.lootedGold,c=l||[];D("sellMonsterPart","function"),n({setting:"setGold",type:"add",value:a}),c.push(e),t.setState({lootedGold:s+a})},t.checkLoot=function(e,a){var n,r=t.state,l=r.moveditems,s=r.solditems;D("checkLoot","function");for(var c=0;c<l.length;c++)l[c].type===e&&l[c].char===a&&(n="new");for(var o=0;o<s.length;o++)s[o].type===e&&s[o].char===a&&(n="sold");return n},t.parseLoot=function(e){var a=t.props.opponent;D("parseLoot","function");for(var n=[],l=function(){var l=Object(u.a)(c[s],2),o=l[0],i=l[1],m=t.checkLoot(e,o),p=r.a.createElement(r.a.Fragment,null,r.a.createElement(zr,{item:"coins",level:5,small:!0})," ",a[e][o].reward),d="Equip";"sold"===m?(p="Sold!",d=""):"new"===m&&(p="",d="Got it!"),n.push(r.a.createElement("div",{className:"lootBox lootItemWrapper",key:"lootbox_".concat(e,"_").concat(o)},r.a.createElement(Qr,{item:a[e][o],shop:"items"===e?"items":"",displayChar:"items"===e}),r.a.createElement("button",{onClick:function(){return t.getLoot(e,o,i)},disabled:m},d),r.a.createElement("button",{onClick:function(){return t.sellLoot(e,o,i)},disabled:m},p)))},s=0,c=Object.entries(a[e]);s<c.length;s++)l();return n},t.parseMonsterLoot=function(e){var a=t.state,n=a.monsterLoot,l=a.soldMonsterParts;D("parseMonsterLoot","function");for(var s=[],c=function(e){var a=r.a.createElement(r.a.Fragment,null,r.a.createElement(zr,{item:"coins",level:5,small:!0})," ",n[e].reward),c=-1!==l.indexOf(e);c&&(a="Sold!"),s.push(r.a.createElement("div",{className:"lootBox",key:"lootbox_".concat(e)},r.a.createElement("div",{className:"storeWrapper"},r.a.createElement(Qr,{item:c?{}:n[e],noPlus:!0})),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){return t.sellMonsterPart(e,n[e].reward)},disabled:c},a))))},o=0;o<n.length;o++)c(o);return s};var n=t.props,l=n.opponent,s=n.game;return t.state={moveditems:[],solditems:[],soldMonsterParts:[],lootedGold:t.props.opponent.reward,monsterLoot:l.humanoid?null:W(s.level,l.elite)},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"render",value:function(){var e=this.props,a=e.setGameState,t=e.opponent,n=e.player,l=this.state.lootedGold;D("Victory render","location");var s={id:5,score:n.gold,type:"coins"},c=t.humanoid?"shopWrapper":"shopWrapper shop";return r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea highIndex"},r.a.createElement("div",{className:c},r.a.createElement("span",{className:"title"},"Loot"),t.humanoid?r.a.createElement("div",{className:"lootBoxes itemBox"},this.parseLoot("items"),this.parseLoot("weapons")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"subtitle"},"Sell monster parts"),r.a.createElement("div",{className:"lootBoxes"},this.parseMonsterLoot())),r.a.createElement("div",{className:"goldLootWrapper"},r.a.createElement("div",{className:"goldLoot"},r.a.createElement("div",null,r.a.createElement(zr,{item:"coins",level:2})),"+",l),r.a.createElement("div",{className:"goldLoot total"},r.a.createElement(Qr,{item:s,effect:"new",animateNumber:!0,noPlus:!0}))),r.a.createElement("div",{className:"playerArea shop"},r.a.createElement(Hl,null),r.a.createElement("div",{className:"buttons"},r.a.createElement(ls,{onSell:this.sellInstant}))),r.a.createElement("img",{src:t.pic,alt:t.name}))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return a({state:"shop"})}},"Shop"))))}}]),a}(n.Component),vs=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,game:e.game}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(bs),Es=t(19),ks=t.n(Es),Ns=t(34);var As=function(e){function a(e){var t;Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).checkLoot=function(e,a){var n,r=t.state.movedItems;D("checkLoot","function");for(var l=0;l<r.length;l++)r[l].type===e&&r[l].char===a&&(n="new");return n},t.keepLoot=function(e,a,n){var r=t.props.settings,l=t.state.movedItems,s=l||[];D("keepLoot","function"),r({setting:"keepItem",type:e,char:a,item:n}),s.push({type:e,char:a}),t.setState({movedItems:s})},t.parseLoot=function(e){var a=t.props.player,n=t.state.movedItems,l=ke(a.xp);D("parseLoot","function");for(var s=[],c=function(){var c=Object(u.a)(i[o],2),m=c[0],p=c[1],d=t.checkLoot(e,m),g="Keep";"new"===d&&(g="Saved!"),s.push(r.a.createElement("div",{className:"lootBox ".concat(e," ").concat(d),key:"lootbox_".concat(e,"_").concat(m)},r.a.createElement("div",{className:"storeWrapper"},r.a.createElement(Qr,{item:a[e][m],effect:d,displayChar:"items"===e})),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){return t.keepLoot(e,m,p)},disabled:d||n.length===l},g))))},o=0,i=Object.entries(a[e]);o<i.length;o++)c();return s};var n=t.props.score;return t.state={movedItems:[],scoreSubmitted:!!n.run.scoreSent&&"success"},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.player,n=a.loop,r=a.score,l=a.settings;if(!r.run.scoreSent){var s={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({name:t.name,run_rounds:r.run.round,run_maxlevel:r.run.maxlevel,game_runs:r.game.runs,game_rounds:r.game.round,game_maxlevel:r.game.maxlevel,game_battles:r.game.battles.total,game_battles_defeats:r.game.battles.defeats,game_battles_victories:r.game.battles.victories,alltime_runs:r.alltime.runs,alltime_rounds:r.alltime.round,loop:n})};fetch(p.postScoreUrl,s).then(function(){var a=Object(Ns.a)(ks.a.mark((function a(t){var n,r;return ks.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:if(n=a.sent,e.setState({scoreSubmitted:"success"}),l({setting:"submitScore"}),t.ok){a.next=9;break}return r=n&&n.message||t.status,e.setState({scoreSubmitted:"responseError"}),a.abrupt("return",Promise.reject(r));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(a){console.error("There was an error!",a),e.setState({scoreSubmitted:"networkError"})}))}}},{key:"render",value:function(){var e=this.props,a=e.setGameState,t=e.player,n=this.state.scoreSubmitted;D("Defeat render","location");var l=ke(t.xp),s=1===l?"1 item":r.a.createElement(r.a.Fragment,null,l," items"),c=r.a.createElement("span",null,"Submitting score...");return"success"===n?c=r.a.createElement("span",null,"Score sent !"):"responseError"===n?c=r.a.createElement("span",null,"Score not sent, sorry =["):"networkError"===n&&(c=r.a.createElement("span",null,"No internet, score not sent =[")),r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea highIndex"},r.a.createElement("div",{className:"shopWrapper shop legacy"},r.a.createElement("div",{className:"legacyTitle"},"You can choose up to",r.a.createElement("span",{className:"legacyCount big"},s),"to use in your next run."),r.a.createElement("div",{className:"lootBoxes"},this.parseLoot("items"),this.parseLoot("weapons")),r.a.createElement("div",{className:"legacyTitle"},"You also saved ",r.a.createElement("span",{className:"legacyCount"},t.gold," ",r.a.createElement(zr,{item:"coins",level:5,small:!0}))))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return a({state:"hallOfFame"})}},"Hall of fame",c),r.a.createElement("button",{className:"navigation",onClick:function(){return a({state:"welcome"})}},"Start again !"))))}}]),a}(n.Component),Ms=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,game:e.game,score:e.score,loop:e.game.loop}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(As);var Ss=function(e){function a(e){var t;Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).changeTab=function(e){t.setState({storeTab:e})},t.buyLoot=function(e,a,n){var r=t.props.settings,l=t.state,s=l.soldItems,c=l.gold,o=s||[];D("buyLoot","function"),o.push({type:e,char:a}),"unique_weapons"===e&&(e="weapons"),"unique_items"===e&&(e="items"),r("instants"===e||"instants_weapon"===e?{setting:"buyInstant",item:n}:{setting:"buyItem",type:e,char:n.char,item:n}),t.setState({gold:c-n.price,soldItems:o})},t.sellInstant=function(e,a){var n=t.props.settings,r=t.state.gold;D("sellInstant","function"),n({setting:"sellInstant",index:e,item:a}),t.setState({gold:r+a.reward})},t.generateCatalog=function(e,a,n){var r=t.props.uniques;D("generateCatalog","function");var l,s,c=[];if("items"===e){l=10,s=["STR","DEX","CON","MAG","LCK","STR","DEX","CON","MAG","LCK"];for(var o=0;o<l;o++){var i=s[o];c.push(i)}}else if("weapons"===e){l=6,s=["STR","STR","STR","MAG","MAG","MAG"];for(var m=0;m<l;m++)c.push(j(s))}else if("instants"===e){l=6,s=["quickheal","quickheal","temporaryupgrade","temporaryluckupgrade","permanentupgrade","restore"];for(var u=0;u<l;u++)c.push(s[u])}else if("instants_weapon"===e){l=4,s=["damage","damage","sharpenphysical","sharpenmagical"];for(var p=0;p<l;p++)c.push(s[p])}var d,g,h,f,y=[];if("unique_weapons"===e){l=2,s=["STR","MAG"];for(var b=0;b<l;b++)d=s[b],f=j((g=G.weapons[d])[(h=Object.keys(g))[h.length*Math.random()<<0]]),y.push(r.weapons[f])}else if("unique_items"===e){l=5,s=["STR","DEX","CON","MAG","LCK"];for(var v=0;v<l;v++)d=s[v],f=j((g=G.items[d])[(h=Object.keys(g))[h.length*Math.random()<<0]]),y.push(r.items[f])}else for(var E=0;E<c.length;E++){var k=void 0;"items"===e?k=$([c[E]],a,!0,n):"weapons"===e?k=Q([c[E]],a,!0,n):"instants"===e?k=ae([c[E]],a):"instants_weapon"===e&&(k=ae([c[E]],a)),y.push(k[c[E]])}return y},t.checkLoot=function(e,a){var n,r=t.state.soldItems;D("checkLoot","function");for(var l=0;l<r.length;l++)r[l].type===e&&r[l].char===a&&(n="new");return n},t.parseLoot=function(e,a){var n=t.props.player,l=t.state.catalog;D("parseLoot","function");for(var s=[],c=function(c){var o=c,i=l[e][c],m=t.checkLoot(e,o),u=r.a.createElement("span",{className:"itemPrice"},r.a.createElement(zr,{item:"coins",level:5,small:!0}),i.price);"new"===m&&(u=r.a.createElement("span",{className:"itemPrice"},"Sold !"));var p=void 0;!n.instants||6!==n.instants.filter(Boolean).length||"instants"!==e&&"instants_weapon"!==e||(p=r.a.createElement("div",{className:"overburden"},r.a.createElement(zr,{item:"bag",level:12}),r.a.createElement("span",null,"Full bag!"))),s.push(r.a.createElement("div",{key:"lootbox_".concat(e,"_").concat(o),className:"storeItemWrapper"},p,r.a.createElement("button",{className:"storeItem ".concat(e),onClick:function(){return t.buyLoot(e,c,i)},disabled:m||n.gold<i.price||p},r.a.createElement(Qr,{item:m?null:i,displayChar:a,noPlus:"instants"===e||"instants_weapon"===e,shop:"items"===e||"unique_items"===e?"items":""}),u)))},o=0;o<l[e].length;o++)c(o);return s};var n={items:t.generateCatalog("items",t.props.game.level,!1),weapons:t.generateCatalog("weapons",t.props.game.level,!1),instants:t.generateCatalog("instants",t.props.game.level,!1),instants_weapon:t.generateCatalog("instants_weapon",t.props.game.level,!1),unique_weapons:t.generateCatalog("unique_weapons",t.props.game.level,!1),unique_items:t.generateCatalog("unique_items",t.props.game.level,!1)};return t.state={storeTab:"equipment",soldItems:[],gold:t.props.player.gold,catalog:n},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"render",value:function(){var e=this,a=this.props.setGameState,t=this.state,n=t.gold,l=t.storeTab;D("Shop render","location");var s={id:5,score:n,type:"coins"};return r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea highIndex"},r.a.createElement("div",{className:"shopWrapper shop panelStore"},r.a.createElement("div",{className:"panelStoreTabs"},r.a.createElement("button",{className:"equipment"!==l?"off":"on",onClick:function(){return e.changeTab("equipment")}},r.a.createElement(zr,{item:"armor",level:70}),"Gear"),r.a.createElement("button",{className:"items"!==l?"off":"on",onClick:function(){return e.changeTab("items")}},r.a.createElement(zr,{item:"potion",level:23}),"Items"),r.a.createElement("button",{className:"weapons"!==l?"off":"on",onClick:function(){return e.changeTab("weapons")}},r.a.createElement(zr,{item:"sword",level:158}),"Weapons"),r.a.createElement("button",{className:"uniques"!==l?"off":"on",onClick:function(){return e.changeTab("uniques")}},r.a.createElement(zr,{item:"unique",level:16}),"Antiques")),r.a.createElement("div",{className:"storeBox store_".concat(l)},"equipment"===l&&this.parseLoot("items",!0),"items"===l&&this.parseLoot("instants",!1),"items"===l&&this.parseLoot("instants_weapon",!1),"weapons"===l&&this.parseLoot("weapons",!1),"uniques"===l&&this.parseLoot("unique_items",!0),"uniques"===l&&this.parseLoot("unique_weapons",!1))),r.a.createElement("div",{className:"goldLoot"},r.a.createElement(Qr,{item:s,noPlus:!0,animateNumber:!0})),r.a.createElement("div",{className:"playerArea shop"},r.a.createElement(Hl,null),r.a.createElement("div",{className:"buttons"},r.a.createElement(ls,{onSell:this.sellInstant})))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return a({state:"levelTransition"})}},"Next battle"))))}}]),a}(n.Component),ws=Object(s.b)((function(e){return{player:e.player,game:e.game,uniques:e.uniques}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Ss);var Ts=function(e){function a(e){var t;Object(Nr.a)(this,a);var n=(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).props.score;return t.state={scoreSubmitted:!!n.run.scoreSent&&"success"},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.player,n=a.loop,r=a.score,l=a.settings;if(!r.run.scoreSent){var s={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({name:t.name,run_rounds:r.run.round,run_maxlevel:r.run.maxlevel,game_runs:r.game.runs,game_rounds:r.game.round,game_maxlevel:r.game.maxlevel,game_battles:r.game.battles.total,game_battles_defeats:r.game.battles.defeats,game_battles_victories:r.game.battles.victories,alltime_runs:r.alltime.runs,alltime_rounds:r.alltime.round,loop:n})};fetch(p.postScoreUrl,s).then(function(){var a=Object(Ns.a)(ks.a.mark((function a(t){var n,r;return ks.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:if(n=a.sent,e.setState({scoreSubmitted:"success"}),l({setting:"submitScore"}),t.ok){a.next=9;break}return r=n&&n.message||t.status,e.setState({scoreSubmitted:"responseError"}),a.abrupt("return",Promise.reject(r));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(a){console.error("There was an error!",a),e.setState({scoreSubmitted:"networkError"})}))}}},{key:"render",value:function(){var e=this.props,a=e.setGameState,t=e.player,n=e.score,l=this.state.scoreSubmitted;D("EndGame screen","location");var s=r.a.createElement("span",null,"Submitting score...");return"success"===l?s=r.a.createElement("span",null,"Score sent !"):"responseError"===l?s=r.a.createElement("span",null,"Score not sent, sorry =["):"networkError"===l&&(s=r.a.createElement("span",null,"No internet, score not sent =[")),r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea highIndex"},r.a.createElement("div",{className:"victoryWrapper"},r.a.createElement("div",{className:"bigTitle"},"You won !"),r.a.createElement("div",null,"All hail the mighty ",t.name," !"),r.a.createElement("div",{className:"separator"}),r.a.createElement("div",{className:"stats"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Runs"),r.a.createElement("td",null,n.game.runs)),r.a.createElement("tr",null,r.a.createElement("td",null,"Battles"),r.a.createElement("td",null,n.game.battles.total," (",n.game.battles.defeats," lost)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Rounds"),r.a.createElement("td",null,n.game.round)),r.a.createElement("tr",null,r.a.createElement("td",null,"Damage dealt"),r.a.createElement("td",null,n.game.damage)),r.a.createElement("tr",null,r.a.createElement("td",null,"Physical damage"),r.a.createElement("td",null,r.a.createElement("span",{className:"physicaldamage"},n.game.action.attack.damage)," (",n.game.action.attack.total,")")),r.a.createElement("tr",null,r.a.createElement("td",null,"Magical damage"),r.a.createElement("td",null,r.a.createElement("span",{className:"magicaldamage"},n.game.action.cast.damage)," (",n.game.action.cast.total,")")),r.a.createElement("tr",null,r.a.createElement("td",null,"Health restored"),r.a.createElement("td",null,n.game.heal))))),r.a.createElement("div",null,"Congratulations ! ",r.a.createElement("br",null),r.a.createElement("br",null),"But the ",r.a.createElement("span",{className:"element_darkness"},"Abyss of Permadeath")," awaits..."))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return a({state:"hallOfFame"})}},"Hall of fame",s),r.a.createElement("button",{className:"navigation abyss picture",onClick:function(){return a({state:"nextLoop"})}},r.a.createElement("img",{src:ul.a,alt:"The Abyss of Permadeath"}),"Enter the Abyss"))))}}]),a}(n.Component),Os=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,game:e.game,score:e.score,loop:e.game.loop}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Ts);var Gs=function(e){function a(e){var t;Object(Nr.a)(this,a);var n=(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).props.score;return t.state={scoreSubmitted:!!n.run.scoreSent&&"success"},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.player,n=a.score,r=a.loop,l=a.settings;if(!n.run.scoreSent){var s={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({name:t.name,run_rounds:n.run.round,run_maxlevel:n.run.maxlevel,game_runs:n.game.runs,game_rounds:n.game.round,game_maxlevel:n.game.maxlevel,game_battles:n.game.battles.total,game_battles_defeats:n.game.battles.defeats,game_battles_victories:n.game.battles.victories,alltime_runs:n.alltime.runs,alltime_rounds:n.alltime.round,abyss:r})};fetch(p.postScoreUrl,s).then(function(){var a=Object(Ns.a)(ks.a.mark((function a(t){var n,r;return ks.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:if(n=a.sent,e.setState({scoreSubmitted:"success"}),l({setting:"submitScore"}),t.ok){a.next=9;break}return r=n&&n.message||t.status,e.setState({scoreSubmitted:"responseError"}),a.abrupt("return",Promise.reject(r));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(a){console.error("There was an error!",a),e.setState({scoreSubmitted:"networkError"})}))}}},{key:"render",value:function(){var e=this.props,a=e.setGameState,t=e.game,n=e.player,l=(e.score,this.state.scoreSubmitted);D("EndGame screen","location");var s=r.a.createElement("span",null,"Submitting score...");return"success"===l?s=r.a.createElement("span",null,"Score sent !"):"responseError"===l?s=r.a.createElement("span",null,"Score not sent, sorry =["):"networkError"===l&&(s=r.a.createElement("span",null,"No internet, score not sent =[")),r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea highIndex"},r.a.createElement("div",{className:"victoryWrapper"},r.a.createElement("div",{className:"bigTitle"},"The End"),r.a.createElement("div",null,"Congratulations ",n.name," !"),r.a.createElement("div",{className:"separator"}),r.a.createElement("div",{className:"stats"},"You reached Abyss level",r.a.createElement("div",{className:"abyssTitle"},t.level)),r.a.createElement("div",null,"Thank you for playing !"))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation abyss",onClick:function(){return a({state:"resetThenHallOfFame"})}},"Hall of fame",s))))}}]),a}(n.Component),Cs=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,game:e.game,score:e.score,loop:e.game.loop}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Gs);var Rs=function(e){function a(e){var t;Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).changeTab=function(e){t.setState({scoreTab:e})},t.parseScore=function(e){var a=t.state.score;if(a){var n,l=[];switch(e){case"run":n=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"name"},"Name"),r.a.createElement("span",{className:""},"Level"),r.a.createElement("span",{className:""},"Rounds"),r.a.createElement("span",{className:""},"Run #"));for(var s=0;s<a.run.length;s++){var c=a.run[s],o={filter:"hue-rotate(".concat(Math.round(c.run_maxlevel*(360/p.maxLevel)),"deg)")};l.push(r.a.createElement("div",{id:"run_".concat(c.id),className:"score",key:"score_run_".concat(s)},r.a.createElement("span",{className:"name"},c.name),r.a.createElement("span",{className:"level",style:o},c.run_maxlevel),r.a.createElement("span",{className:""},c.run_rounds),r.a.createElement("span",{className:""},c.game_runs)))}break;case"game":n=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"name"},"Name"),r.a.createElement("span",{className:""},"Level"),r.a.createElement("span",{className:""},"Runs"),r.a.createElement("span",{className:""},"Battles"));for(var i=0;i<a.game.length;i++){var m=a.game[i],u={filter:"hue-rotate(".concat(Math.round(m.game_maxlevel*(360/p.maxLevel)),"deg)")};l.push(r.a.createElement("div",{id:"game_".concat(m.id),className:"score",key:"score_game_".concat(i)},r.a.createElement("span",{className:"name"},m.name),r.a.createElement("span",{className:"level",style:u},m.game_maxlevel),r.a.createElement("span",{className:""},m.game_runs),r.a.createElement("span",{className:""},m.game_battles)))}break;case"abyss":n=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"name"},"Name"),r.a.createElement("span",{className:"abyss"},"Abyss level"));for(var d=0;d<a.abyss.length;d++){var g=a.abyss[d],h={filter:"hue-rotate(".concat(Math.round(g.game_maxlevel*(360/p.maxLevel)),"deg)")};l.push(r.a.createElement("div",{id:"abyss_".concat(g.id),className:"score"},r.a.createElement("span",{className:"name"},g.name),r.a.createElement("span",{className:"level",style:h},g.run_maxlevel)))}}return[r.a.createElement("div",{className:"scoreTitle columns",key:"score_title"},n),r.a.createElement("div",{className:"hallList",key:"score_list"},r.a.createElement("div",{className:"hallListContent columns"},l))]}return r.a.createElement("div",{className:"loading"},"Loading scores, please wait!")};var n=t.props.game;return t.state={scoreTab:"permadeath"===n.previousState?"abyss":"run"},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Ns.a)(ks.a.mark((function e(){var a,t;return ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(p.getScoreUrl);case 3:return a=e.sent,e.next=6,a.json();case 6:if(t=e.sent,this.setState({score:t}),a.ok){e.next=10;break}throw Error(a.statusText);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.props,t=a.setGameState,n=a.game,l=this.state.scoreTab;return r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea"},r.a.createElement("div",{className:"hall"},r.a.createElement("span",{className:"title"},"Hall of Fame"),r.a.createElement("div",{className:"hallTabs"},r.a.createElement("button",{className:"run"!==l?"off":"on",onClick:function(){return e.changeTab("run")}},"Best run",r.a.createElement("span",null,"Single run")),r.a.createElement("button",{className:"game"!==l?"off":"on",onClick:function(){return e.changeTab("game")}},"Best game",r.a.createElement("span",null,"Multiple runs")),r.a.createElement("button",{className:"abyss"!==l?"off":"on",onClick:function(){return e.changeTab("abyss")}},"Abyss",r.a.createElement("span",null,"of Permadeath"))),"run"===l&&this.parseScore("run"),"game"===l&&this.parseScore("game"),"abyss"===l&&this.parseScore("abyss"))),r.a.createElement("div",{className:"actionArea"},"welcome"===n.previousState&&r.a.createElement("button",{className:"navigation",onClick:function(){return t({state:"welcome_keepQuitState"})}},"Back"),"defeat"===n.previousState&&r.a.createElement("button",{className:"navigation",onClick:function(){return t({state:"welcome"})}},"Start again !"),"permadeath"===n.previousState&&r.a.createElement("button",{className:"navigation",onClick:function(){return t({state:"welcome"})}},"Start again !"),"endgame"===n.previousState&&r.a.createElement("button",{className:"navigation picture abyss",onClick:function(){return t({state:"nextLoop"})}},r.a.createElement("img",{src:ul.a,alt:"The Abyss of Permadeath"}),"Enter the Abyss"))))}}]),a}(n.Component),js=Object(s.b)((function(e){return{player:e.player,opponent:e.opponent,playerTurn:e.game.playerTurn,log:e.log,score:e.score,game:e.game}}),(function(e){return{setGameState:function(a){return e(jr(a))}}}))(Rs),Ls=t(264),xs=t.n(Ls);var Ps=function(e){function a(){return Object(Nr.a)(this,a),Object(Mr.a)(this,Object(Sr.a)(a).apply(this,arguments))}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,a=e.setGameState,t=e.player;return[r.a.createElement("div",{key:"mainWrapper",className:"mainWrapper wideScreen abyss"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"presentationArea"},r.a.createElement("div",{className:"victoryWrapper"},r.a.createElement("div",{className:"bigTitle abyss"},"The Abyss of Permadeath"),r.a.createElement("div",null,t.name," gets ready for the final run."),r.a.createElement("img",{src:xs.a,alt:"Portal"}),r.a.createElement("div",null,r.a.createElement("p",null,"No one knows where the Abyss ends,",r.a.createElement("br",null),"as no one ever escaped."),r.a.createElement("p",null,"You can't win, but how far will you go?")))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation picture",onClick:function(){return a({state:"levelTransition"})}},r.a.createElement("img",{src:ul.a,alt:"The Abyss of Permadeath"}),"Enter the Abyss"))))]}}]),a}(n.Component),Ds=Object(s.b)((function(e){return{player:e.player}}),(function(e){return{setGameState:function(a){return e(jr(a))},settings:function(a){return e(Rr(a))}}}))(Ps);var Is=function(e){function a(){return Object(Nr.a)(this,a),Object(Mr.a)(this,Object(Sr.a)(a).apply(this,arguments))}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"render",value:function(){var e=this.props,a=e.data,t=e.setGameState,n=[];a.game.pastOpponents=[];for(var l,s=a.monsterTiers,c=a.monsters,o=0,i=0,m=1;m<=p.maxLevel;m++){l=kn(m,s,c,a.game.pastOpponents),a.game.pastOpponents?a.game.pastOpponents.push(l.job):a.game.pastOpponents=[l.job];var u=te(l,"STR"),d=te(l,"DEX"),g=te(l,"CON"),h=te(l,"MAG"),f=te(l,"LCK"),y=(l.items.STR?l.items.STR.reward:0)+(l.items.DEX?l.items.DEX.reward:0)+(l.items.CON?l.items.CON.reward:0)+(l.items.MAG?l.items.MAG.reward:0)+(l.items.LCK?l.items.LCK.reward:0)+(l.weapons.STR?l.weapons.STR.reward:0)+(l.weapons.MAG?l.weapons.MAG.reward:0);o+=y+l.reward,i+=l.xp,n.push(r.a.createElement("tr",null,r.a.createElement("td",null,m),r.a.createElement("td",null,l.job),r.a.createElement("td",null,u.natural,"/",u.total),r.a.createElement("td",null,d.natural,"/",d.total),r.a.createElement("td",null,g.natural,"/",g.total),r.a.createElement("td",null,h.natural,"/",h.total),r.a.createElement("td",null,f.natural,"/",f.total),r.a.createElement("td",null,u.total+d.total+g.total+h.total+f.total),r.a.createElement("td",null,l.xp),r.a.createElement("td",null,i),r.a.createElement("td",null,ke(i)),r.a.createElement("td",null,l.hitPoints),r.a.createElement("td",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Qr,{item:l.items.STR}),r.a.createElement(Qr,{item:l.items.DEX}),r.a.createElement(Qr,{item:l.items.CON}),r.a.createElement(Qr,{item:l.items.MAG}),r.a.createElement(Qr,{item:l.items.LCK}))),r.a.createElement("td",null,V(m).toString()),r.a.createElement("td",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Qr,{item:l.weapons.STR}),r.a.createElement(Qr,{item:l.weapons.MAG}))),r.a.createElement("td",null,l.humanoid&&"H"),r.a.createElement("td",null,r.a.createElement(ll,{element:l.elite&&"elite"})),r.a.createElement("td",null,r.a.createElement(ll,{element:l.element})),r.a.createElement("td",null,l.reward),r.a.createElement("td",null,y),r.a.createElement("td",null,o)))}return r.a.createElement("div",{className:"mainWrapper"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement("div",{className:"scrollArea highIndex shop"},r.a.createElement("table",{style:{width:"100%",padding:"20px"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Lv"),r.a.createElement("td",null,"Job"),r.a.createElement("td",null,"STR"),r.a.createElement("td",null,"DEX"),r.a.createElement("td",null,"CON"),r.a.createElement("td",null,"MAG"),r.a.createElement("td",null,"LCK"),r.a.createElement("td",null,"SUM"),r.a.createElement("td",null,"Xp"),r.a.createElement("td",null,"Sum Xp"),r.a.createElement("td",null,"XpLvl"),r.a.createElement("td",null,"HP"),r.a.createElement("td",null,"Items"),r.a.createElement("td",null,"Qualities"),r.a.createElement("td",null,"Weapons"),r.a.createElement("td",null,"H/B"),r.a.createElement("td",null,"Elite"),r.a.createElement("td",null,"Elmt"),r.a.createElement("td",null,"Reward"),r.a.createElement("td",null,"Item Rwd"),r.a.createElement("td",null,"Sum rwd")),n))),r.a.createElement("div",{className:"actionArea"},r.a.createElement("button",{className:"navigation",onClick:function(){return t({state:"welcome"})}},"Back"))))}}]),a}(n.Component),Xs=Object(s.b)((function(e){return{data:e,player:e.player,opponent:e.opponent,playerTurn:e.game.playerTurn,log:e.log,monsterList:e.monsters}}),(function(e){return{setGameState:function(a){return e(jr(a))}}}))(Is),Ws=t(265),Bs=t.n(Ws);t(519),t(520),t(521),t(522),t(523),t(524),t(525),t(526),t(527),t(528),t(529),t(530),t(531),t(532),t(533),t(534),t(535);var _s=function(e){function a(e){var t;return Object(Nr.a)(this,a),(t=Object(Mr.a)(this,Object(Sr.a)(a).call(this,e))).openModal=function(e){t.setState({openModal:e})},t.closeModal=function(){t.setState({openModal:!1})},t.state={openModal:!1},t}return Object(wr.a)(a,e),Object(Ar.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.settings,t=e.currentVersion;e.monsters?Se[0].version!==t&&(Se[0].reset||a({setting:"setVersion"})):a({setting:"setVersion"}),Cr.a.parse('code,name,verticalPosition,Poor visual,tier,humanoid,items,weapons,profile,element,boost,elite\r\nblindworm,"Blind Worm, Cave Worm, Giant Worm",,,1,,,,brute,earth,STR,3\r\ndryad,"Dryad, Sylve Dryad, Dryad Swordmaster",,,1,1,"DEX, STR, LCK",STR,duelist,earth,DEX,3\r\ngiantfish,"Giant Fish, River Monster, Giant Carp",30,,1,,,,tank,water,,3\r\nfireimp,"Fire Bird, Phoenix, Fire Crow",,,1,1,MAG,MAG,archmage,fire,,3\r\nbloodmage,"Blood Mage, Blood Warlock, Crimson Mage",60,,1,1,"DEX, CON, MAG","STR, MAG",archmage,fire,,3\r\nclairvoyant,"Battle Mage, Archknight, Scythe Mage",,,1,1,"DEX, CON, MAG, STR","STR, MAG",balanced,darkness,"DEX, MAG",3\r\nrootgolem,"Root Golem, Angry Root, Root Elemental",,,1,1,LCK,STR,balanced,earth,"STR, CON",3\r\nlamprey,"Psychic Lamprey, Psionic Worm, Mana Leech",49,,1,,,,wizard,water,MAG,3\r\nwaterspirit,"Water Spirit, Water Djinn, Ocean Djinn",40,,1,1,"STR, MAG","STR, MAG",balanced,water,,3\r\ncrow,"Giant Crow, High Raven, Black Raven",30,,1,,,,duelist,earth,DEX,3\r\nsuccubus,"Succubus, Servant of Lilith, Void Demon",,,1,1,"STR, DEX, CON",STR,balanced,darkness,DEX,3\r\nscarletwyrm,"Scarlet Wyrm, Scaled Beast, Red Drake",20,,2,,,,brute,earth,STR,5\r\nrunicgolem,"Runic Golem, Ancient Golem, Razor Golem",40,,2,1,"DEX, STR, LCK, MAG",STR,balanced,water,DEX,5\r\ngazer,"Eldritch Gazer, Abomination, Abyss Gazer",,,2,,,,brute,darkness,"STR, DEX",5\r\nsunwarrior,"Sun Warrior, Sun Knight, Fire Warrior",,,2,1,"MAG, DEX, CON","STR, MAG",archmage,fire,"STR,DEX",5\r\nvampire,"Count Solomon, Vampire Lord, Lord Solomon",70,,2,1,"STR, DEX, CON, MAG, LCK",STR,balanced,darkness,"DEX, MAG",5\r\nstonegolem,"Stone Golem, Rock Golem, Rock Spirit",60,,2,,,,brute,earth,STR,5\r\narcanegolem,"Arcane Golem, Crystal Golem, Construct",60,,2,,,,brute,water,"MAG, DEX",5\r\nsparkdragon,"Spark Dragon, Yellow Drake, White Wyvern",40,,2,,,,balanced,earth,"DEX, STR",5\r\ngoblinmage,"Iron Mage, Iron Wizard, Iron Warlock",80,,2,1,"MAG, DEX",MAG,wizard,earth,MAG,5\r\nwindpriest,"Wind Priest, Zephyr Wizard, Wind Mage",,,3,1,"DEX, MAG, LCK",MAG,wizard,water,,7\r\nkoboldarcher,"Gargoyle Bandit, Gargoyle Assassin, Gargoyle Duelist",,,3,1,"DEX, LCK, STR",STR,duelist,earth,DEX,7\r\nimp,"Forest Imp, Forest Demon, Tree Gargoyle",,,3,1,"DEX, LCK, STR, MAG","STR, MAG",duelist,water,,7\r\nfireangel,"Fire Angel, Red Angel, Burning Angel",,,3,1,"STR, DEX, MAG",STR,balanced,fire,DEX,7\r\nbehemoth,"Behemoth, Green Wyvern, Green Drake",40,,3,,,,balanced,earth,"STR, CON",7\r\ncultist,"Insane Cultist, Chaos Mage, Dark Mage",,,3,1,"MAG, LCK, DEX",MAG,archmage,darkness,"MAG, DEX",7\r\nfirelord,"Fire Lord, Blaze Lord, Flame Lord",55,,3,,,,balanced,fire,"DEX, CON",7\r\nmage,"Insane Wizard, Al-Hazred, Librarian",80,bof,3,1,"MAG, DEX, LCK","STR, MAG",wizard,darkness,"MAG, DEX",7\r\nminordemon,"Flame Servant, Flame Slave, Flame Minion",,,3,1,"STR, DEX, LCK, CON","STR, MAG",brute,fire,STR,7\r\ncrocodilerogue,"Vapor Fighter, Smoke Fighter, Wind Fighter",80,,4,1,"DEX, STR, LCK, CON",STR,duelist,water,DEX,9\r\nghostknight,"Ghost Knight, Spectral Knight, Fantom Knight",80,,4,1,"DEX, STR, LCK, MAG",STR,duelist,darkness,"DEX, STR",9\r\nforestgolem,"Forest Golem, Moss Golem, Forest Elemental",40,,4,,,,tank,earth,STR,9\r\nchimera,"Chimera, Peryton, Illusion Beast",32,,4,,,,balanced,earth,"DEX, STR",9\r\ndryadqueen,"Dryad Queen, Forest Queen, Forest Sorceress",65,,4,1,"DEX, LCK, MAG, CON",MAG,wizard,earth,"DEX, MAG",9\r\nastrallich,"Astral Lich, Void Eater, Void Elemental",48,,4,,,,brute,darkness,"CON, MAG",9\r\nferalbeast,"Feral Beast, Fire Wolf, Wereflame",,,4,1,"DEX, STR, LCK, CON",,duelist,fire,"DEX, STR",9\r\ndarknesstitan,"Dancing Flame, Burning Titan, Hell Knight",,,4,1,"STR, DEX, LCK, CON",STR,duelist,fire,"DEX, MAG",9\r\ncrystalmage,"Crystal Mage, Ice Mage, Frozen Sorcerer",60,,4,1,"MAG, DEX, LCK",MAG,archmage,water,"MAG, DEX, CON",9\r\niceelemental,"Ice Spirit, Ice Queen, Crystal Spirit",70,,5,1,"MAG, CON",MAG,archmage,water,"DEX, CON",15\r\nelvenmage,"Elven Mage, Forest Mage, Elven Overseer",80,,5,1,"LCK, MAG, DEX, CON","MAG, STR",wizard,earth,"MAG, CON",15\r\nradulac,"Ancient Ghoul, Lord Ghoul, Garghoul",,,5,1,"DEX, STR, LCK, MAG",STR,tank,darkness,"STR, MAG",15\r\ngolddragon,"Gold Dragon, Lucky Dragon, Gold Wyvern",,,5,1,LCK,,wizard,earth,LCK,15\r\ndragonemperor,"Dragon Emperor, Dracolich, Darkness Emperor",,,5,1,"LCK, CON",,balanced,darkness,"STR, DEX, MAG",15\r\nvoidgargoyle,"Void Gargoyle, Void Beast, Mi-Go",,,5,,,,balanced,darkness,"DEX, MAG",15\r\nbulldragon,"Bull Dragon, Great Beast, Bull Drake",60,,5,,,,brute,earth,"STR, CON",15\r\nknightking,"Night King, Night Emperor, Night Sword",,,5,1,"STR, DEX, CON, MAG, LCK","STR, MAG",duelist,darkness,"DEX, STR",15\r\nansellus,"Ansellus, Isembard, Fendrel",,,6,1,"STR, DEX, CON, MAG, LCK","STR, MAG",duelist,darkness,"MAG, DEX",20\r\nexcelsios,"Annoras the Unholy, Annoras the Void Rider, Annoras the World Eater",,,6,1,"STR, DEX, CON, MAG, LCK","STR, MAG",archmage,darkness,"MAG, DEX, STR",20\r\nthanatos,"Thanatos, Death, The Reaper",40,,6,1,"STR, DEX, CON, MAG, LCK","STR, MAG",archmage,earth,MAG,20\r\nalfadriel,"Alfadriel the Rigtheous, Alfadriel Lord of the Light, Archangel Alfadriel",,,6,1,"STR, DEX, CON, MAG, LCK","STR, MAG",balanced,fire,"DEX, STR",20\r\nyoggoth,"Yoggoth, Beast of Oort, Void Thing",49,,6,1,"STR, DEX, CON, MAG, LCK","STR, MAG",wizard,darkness,"CON, MAG",20\r\nfirewitch,"Fire Witch, Fire Angel, Fire Sorceress",,,boss-1,1,"STR, DEX, CON, MAG, LCK","STR, MAG",wizard,fire,MAG,100\r\nshadowscythe,"Scythe Shadow, Smoke Reaper, Mister Reaper",,,boss-1,1,"STR, DEX, CON, MAG, LCK","STR, MAG",brute,darkness,"DEX, MAG",100\r\nignis,"Ignis, Arcane Blaze, Infernis",,,boss-2,1,"STR, DEX, CON, MAG, LCK","STR, MAG",archmage,fire,"MAG, DEX",100\r\ncorruptedelemental,"Corrupted Elemental, Chaos Elemental, Void Elemental",,,boss-2,1,"STR, DEX, CON, MAG, LCK","STR, MAG",brute,darkness,"STR, CON",100\r\nharbinger,"Messenger, Harbinger, Caller",,,boss-3,1,"STR, DEX, LCK, CON, MAG",MAG,balanced,darkness,"MAG, DEX",100\r\ncorruptedhorseman,"Corrupted Horseman, Chaos Horseman, Void Horseman",,,boss-3,1,"STR, DEX, LCK, CON, MAG",STR,balanced,darkness,"STR, DEX",100\r\nprimaldemon,"Primal Demon, Feral Demon, Void Chimera",,,boss-4,1,"STR, DEX, CON, LCK, MAG","STR, MAG",brute,fire,"STR, CON",100\r\ndynamo,"Immortal Flame, Unburning Fire, Sudden Blaze",60,,boss-4,1,"STR, DEX, CON, LCK, MAG","STR, MAG",archmage,fire,"MAG, DEX",100\r\nlichwarlord,"Lich Warlord, Nazghoul, Lich Knight",,,boss-5,1,"STR, DEX, CON, MAG, LCK","STR, MAG",wizard,darkness,"DEX, MAG",100\r\ndemon,"Abaddon, Apollyon",,,boss-5,1,"STR, DEX, CON, MAG, LCK","STR, MAG",balanced,fire,"STR, MAG",100\r\ncthulhu,"The Great Cthulhu, The Great Old One, Cthulhu",40,,boss-6,,,,balanced,darkness,"STR, MAG, DEX, CON",100\r\nmyrdin,"Myrdin Sovereign of the Void, Myrdin Ruler of the Void, Myrdin Mistress of the Void",,,boss-6,1,"STR, DEX, CON, MAG, LCK",MAG,wizard,darkness,"MAG, DEX",100',{header:!0,dynamicTyping:!0,complete:function(e){a({setting:"createMonsters",data:e.data})}})}},{key:"render",value:function(){var e,a,t=this,n=this.props,l=n.game,s=n.tutorial,c=n.setGameState,o=n.settings,i=n.loop,m=this.state.openModal,u=r.a.createElement("div",{className:"fogWrapper",key:"fogwrapper"},r.a.createElement("div",{className:"smoke",key:"smoke"}),r.a.createElement("div",{className:"fog",key:"fog"})),p=r.a.createElement("div",{className:"optionsWrapper",key:"options"},r.a.createElement("button",{className:"option",onClick:function(){return t.openModal("about")}},r.a.createElement("img",{src:gl.a,alt:"About"})),r.a.createElement("button",{className:"option",onClick:function(){return c({state:"hallOfFame"})}},r.a.createElement("img",{src:Bs.a,alt:"Score"}))),d=r.a.createElement("div",{className:"optionsWrapper",key:"options"},r.a.createElement("button",{className:"option",onClick:function(){return c({state:"quit"})}},r.a.createElement("img",{src:yl.a,alt:"Quit"}))),g=r.a.createElement("div",{className:"optionsWrapper help",key:"options"},r.a.createElement("button",{className:"option fade",onClick:function(){return t.openModal("help")}},r.a.createElement("img",{src:gl.a,alt:"Help"})));switch(l){case"welcome":e=r.a.createElement(kl,null),a=p;break;case"allReset":e=r.a.createElement(Al,null),a=[];break;case"releaseNotes":e=r.a.createElement(Sl,null),a=[];break;case"gameCreate":e=r.a.createElement(jl,null),a=d;break;case"levelTransition":e=r.a.createElement(Bl,null),a=[];break;case"battleIntro":e=r.a.createElement($l,null),a=[];break;case"battle":s||(o({setting:"tutorial"}),this.setState({openModal:"first"})),e=r.a.createElement(ys,null),u=[],a=g;break;case"victory":e=r.a.createElement(vs,null),a=d;break;case"defeat":e=r.a.createElement(Ms,null),a=d;break;case"shop":e=r.a.createElement(ws,null),a=d;break;case"endgame":e=r.a.createElement(Os,null),a=d;break;case"hallOfFame":e=r.a.createElement(js,null),a=d;break;case"permadeath":e=r.a.createElement(Cs,null),a=[];break;case"nextLoop":e=r.a.createElement(Ds,null),a=[];break;case"monstersDemo":e=r.a.createElement(Xs,null),a=[]}var h=i?"appBody abyss":"appBody";return[r.a.createElement(Tr.a,{key:"switch"},r.a.createElement(Or.a,{key:l,timeout:1e3,classNames:"fadeView_1000",addEndListener:function(e,a){return e.addEventListener("transitionend",a,!1)},appear:!0},e)),a,r.a.createElement(vl,{key:"modalAbout",content:"about",display:"about"===m,close:this.closeModal}),r.a.createElement(vl,{key:"modalSettings",content:"settings",display:"settings"===m,close:this.closeModal}),r.a.createElement(vl,{key:"modalHelp",content:"help",display:"help"===m,close:this.closeModal}),r.a.createElement(vl,{key:"modalFirst",content:"first",display:"first"===m,close:this.closeModal}),u,r.a.createElement("div",{className:h})]}}]),a}(n.Component),Fs=Object(s.b)((function(e){return{game:e.game.state,loop:e.game.loop,tutorial:e.game.tutorial,currentVersion:e.version,monsters:e.monsters}}),(function(e){return{settings:function(a){return e(Rr(a))},setGameState:function(a){return e(jr(a))}}}))(_s);console.log("%c\n   _____    ___ ___     .__________________   \n  /     \\  /   |   \\  __| _/\\_____  \\   _  \\  \n /  \\ /  \\/    ~    \\/ __ |  /  ____/  /_\\  \\ \n/    Y    \\    Y    / /_/ | /       \\  \\_/   \\\n\\____|__  /\\___|_  /\\____ | \\_______ \\_____  /\n        \\/       \\/      \\/         \\/     \\/ \n","background: #03181f; color: #bc0f53"),Object(l.render)(r.a.createElement(s.a,{store:kr},r.a.createElement(Fs,null)),document.getElementById("root"))},60:function(e,a,t){e.exports=t.p+"static/media/logo2.dc4cd8ba.png"},61:function(e,a,t){e.exports=t.p+"static/media/help.705c6bc8.svg"},80:function(e,a,t){e.exports=t.p+"static/media/close.93c82e57.svg"}},[[267,1,2]]]);
//# sourceMappingURL=main.e42ead8e.chunk.js.map